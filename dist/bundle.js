(()=>{var e={7695:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=7695,e.exports=t},3527:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=3527,e.exports=t},7418:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=7418,e.exports=t},8503:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=8503,e.exports=t},1650:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=1650,e.exports=t},5035:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=5035,e.exports=t},5659:(e,t,i)=>{const r=i(8156),n={};for(const e of Object.keys(r))n[r[e]]=e;const o={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};e.exports=o;for(const e of Object.keys(o)){if(!("channels"in o[e]))throw new Error("missing channels property: "+e);if(!("labels"in o[e]))throw new Error("missing channel labels property: "+e);if(o[e].labels.length!==o[e].channels)throw new Error("channel and label counts mismatch: "+e);const{channels:t,labels:i}=o[e];delete o[e].channels,delete o[e].labels,Object.defineProperty(o[e],"channels",{value:t}),Object.defineProperty(o[e],"labels",{value:i})}o.rgb.hsl=function(e){const t=e[0]/255,i=e[1]/255,r=e[2]/255,n=Math.min(t,i,r),o=Math.max(t,i,r),a=o-n;let s,l;o===n?s=0:t===o?s=(i-r)/a:i===o?s=2+(r-t)/a:r===o&&(s=4+(t-i)/a),s=Math.min(60*s,360),s<0&&(s+=360);const h=(n+o)/2;return l=o===n?0:h<=.5?a/(o+n):a/(2-o-n),[s,100*l,100*h]},o.rgb.hsv=function(e){let t,i,r,n,o;const a=e[0]/255,s=e[1]/255,l=e[2]/255,h=Math.max(a,s,l),c=h-Math.min(a,s,l),p=function(e){return(h-e)/6/c+.5};return 0===c?(n=0,o=0):(o=c/h,t=p(a),i=p(s),r=p(l),a===h?n=r-i:s===h?n=1/3+t-r:l===h&&(n=2/3+i-t),n<0?n+=1:n>1&&(n-=1)),[360*n,100*o,100*h]},o.rgb.hwb=function(e){const t=e[0],i=e[1];let r=e[2];const n=o.rgb.hsl(e)[0],a=1/255*Math.min(t,Math.min(i,r));return r=1-1/255*Math.max(t,Math.max(i,r)),[n,100*a,100*r]},o.rgb.cmyk=function(e){const t=e[0]/255,i=e[1]/255,r=e[2]/255,n=Math.min(1-t,1-i,1-r);return[100*((1-t-n)/(1-n)||0),100*((1-i-n)/(1-n)||0),100*((1-r-n)/(1-n)||0),100*n]},o.rgb.keyword=function(e){const t=n[e];if(t)return t;let i,o=1/0;for(const t of Object.keys(r)){const n=(s=r[t],((a=e)[0]-s[0])**2+(a[1]-s[1])**2+(a[2]-s[2])**2);n<o&&(o=n,i=t)}var a,s;return i},o.keyword.rgb=function(e){return r[e]},o.rgb.xyz=function(e){let t=e[0]/255,i=e[1]/255,r=e[2]/255;return t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,i=i>.04045?((i+.055)/1.055)**2.4:i/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92,[100*(.4124*t+.3576*i+.1805*r),100*(.2126*t+.7152*i+.0722*r),100*(.0193*t+.1192*i+.9505*r)]},o.rgb.lab=function(e){const t=o.rgb.xyz(e);let i=t[0],r=t[1],n=t[2];return i/=95.047,r/=100,n/=108.883,i=i>.008856?i**(1/3):7.787*i+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,[116*r-16,500*(i-r),200*(r-n)]},o.hsl.rgb=function(e){const t=e[0]/360,i=e[1]/100,r=e[2]/100;let n,o,a;if(0===i)return a=255*r,[a,a,a];n=r<.5?r*(1+i):r+i-r*i;const s=2*r-n,l=[0,0,0];for(let e=0;e<3;e++)o=t+1/3*-(e-1),o<0&&o++,o>1&&o--,a=6*o<1?s+6*(n-s)*o:2*o<1?n:3*o<2?s+(n-s)*(2/3-o)*6:s,l[e]=255*a;return l},o.hsl.hsv=function(e){const t=e[0];let i=e[1]/100,r=e[2]/100,n=i;const o=Math.max(r,.01);return r*=2,i*=r<=1?r:2-r,n*=o<=1?o:2-o,[t,100*(0===r?2*n/(o+n):2*i/(r+i)),(r+i)/2*100]},o.hsv.rgb=function(e){const t=e[0]/60,i=e[1]/100;let r=e[2]/100;const n=Math.floor(t)%6,o=t-Math.floor(t),a=255*r*(1-i),s=255*r*(1-i*o),l=255*r*(1-i*(1-o));switch(r*=255,n){case 0:return[r,l,a];case 1:return[s,r,a];case 2:return[a,r,l];case 3:return[a,s,r];case 4:return[l,a,r];case 5:return[r,a,s]}},o.hsv.hsl=function(e){const t=e[0],i=e[1]/100,r=e[2]/100,n=Math.max(r,.01);let o,a;a=(2-i)*r;const s=(2-i)*n;return o=i*n,o/=s<=1?s:2-s,o=o||0,a/=2,[t,100*o,100*a]},o.hwb.rgb=function(e){const t=e[0]/360;let i=e[1]/100,r=e[2]/100;const n=i+r;let o;n>1&&(i/=n,r/=n);const a=Math.floor(6*t),s=1-r;o=6*t-a,1&a&&(o=1-o);const l=i+o*(s-i);let h,c,p;switch(a){default:case 6:case 0:h=s,c=l,p=i;break;case 1:h=l,c=s,p=i;break;case 2:h=i,c=s,p=l;break;case 3:h=i,c=l,p=s;break;case 4:h=l,c=i,p=s;break;case 5:h=s,c=i,p=l}return[255*h,255*c,255*p]},o.cmyk.rgb=function(e){const t=e[0]/100,i=e[1]/100,r=e[2]/100,n=e[3]/100;return[255*(1-Math.min(1,t*(1-n)+n)),255*(1-Math.min(1,i*(1-n)+n)),255*(1-Math.min(1,r*(1-n)+n))]},o.xyz.rgb=function(e){const t=e[0]/100,i=e[1]/100,r=e[2]/100;let n,o,a;return n=3.2406*t+-1.5372*i+-.4986*r,o=-.9689*t+1.8758*i+.0415*r,a=.0557*t+-.204*i+1.057*r,n=n>.0031308?1.055*n**(1/2.4)-.055:12.92*n,o=o>.0031308?1.055*o**(1/2.4)-.055:12.92*o,a=a>.0031308?1.055*a**(1/2.4)-.055:12.92*a,n=Math.min(Math.max(0,n),1),o=Math.min(Math.max(0,o),1),a=Math.min(Math.max(0,a),1),[255*n,255*o,255*a]},o.xyz.lab=function(e){let t=e[0],i=e[1],r=e[2];return t/=95.047,i/=100,r/=108.883,t=t>.008856?t**(1/3):7.787*t+16/116,i=i>.008856?i**(1/3):7.787*i+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,[116*i-16,500*(t-i),200*(i-r)]},o.lab.xyz=function(e){let t,i,r;i=(e[0]+16)/116,t=e[1]/500+i,r=i-e[2]/200;const n=i**3,o=t**3,a=r**3;return i=n>.008856?n:(i-16/116)/7.787,t=o>.008856?o:(t-16/116)/7.787,r=a>.008856?a:(r-16/116)/7.787,t*=95.047,i*=100,r*=108.883,[t,i,r]},o.lab.lch=function(e){const t=e[0],i=e[1],r=e[2];let n;return n=360*Math.atan2(r,i)/2/Math.PI,n<0&&(n+=360),[t,Math.sqrt(i*i+r*r),n]},o.lch.lab=function(e){const t=e[0],i=e[1],r=e[2]/360*2*Math.PI;return[t,i*Math.cos(r),i*Math.sin(r)]},o.rgb.ansi16=function(e,t=null){const[i,r,n]=e;let a=null===t?o.rgb.hsv(e)[2]:t;if(a=Math.round(a/50),0===a)return 30;let s=30+(Math.round(n/255)<<2|Math.round(r/255)<<1|Math.round(i/255));return 2===a&&(s+=60),s},o.hsv.ansi16=function(e){return o.rgb.ansi16(o.hsv.rgb(e),e[2])},o.rgb.ansi256=function(e){const t=e[0],i=e[1],r=e[2];return t===i&&i===r?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(i/255*5)+Math.round(r/255*5)},o.ansi16.rgb=function(e){let t=e%10;if(0===t||7===t)return e>50&&(t+=3.5),t=t/10.5*255,[t,t,t];const i=.5*(1+~~(e>50));return[(1&t)*i*255,(t>>1&1)*i*255,(t>>2&1)*i*255]},o.ansi256.rgb=function(e){if(e>=232){const t=10*(e-232)+8;return[t,t,t]}let t;return e-=16,[Math.floor(e/36)/5*255,Math.floor((t=e%36)/6)/5*255,t%6/5*255]},o.rgb.hex=function(e){const t=(((255&Math.round(e[0]))<<16)+((255&Math.round(e[1]))<<8)+(255&Math.round(e[2]))).toString(16).toUpperCase();return"000000".substring(t.length)+t},o.hex.rgb=function(e){const t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];let i=t[0];3===t[0].length&&(i=i.split("").map((e=>e+e)).join(""));const r=parseInt(i,16);return[r>>16&255,r>>8&255,255&r]},o.rgb.hcg=function(e){const t=e[0]/255,i=e[1]/255,r=e[2]/255,n=Math.max(Math.max(t,i),r),o=Math.min(Math.min(t,i),r),a=n-o;let s,l;return s=a<1?o/(1-a):0,l=a<=0?0:n===t?(i-r)/a%6:n===i?2+(r-t)/a:4+(t-i)/a,l/=6,l%=1,[360*l,100*a,100*s]},o.hsl.hcg=function(e){const t=e[1]/100,i=e[2]/100,r=i<.5?2*t*i:2*t*(1-i);let n=0;return r<1&&(n=(i-.5*r)/(1-r)),[e[0],100*r,100*n]},o.hsv.hcg=function(e){const t=e[1]/100,i=e[2]/100,r=t*i;let n=0;return r<1&&(n=(i-r)/(1-r)),[e[0],100*r,100*n]},o.hcg.rgb=function(e){const t=e[0]/360,i=e[1]/100,r=e[2]/100;if(0===i)return[255*r,255*r,255*r];const n=[0,0,0],o=t%1*6,a=o%1,s=1-a;let l=0;switch(Math.floor(o)){case 0:n[0]=1,n[1]=a,n[2]=0;break;case 1:n[0]=s,n[1]=1,n[2]=0;break;case 2:n[0]=0,n[1]=1,n[2]=a;break;case 3:n[0]=0,n[1]=s,n[2]=1;break;case 4:n[0]=a,n[1]=0,n[2]=1;break;default:n[0]=1,n[1]=0,n[2]=s}return l=(1-i)*r,[255*(i*n[0]+l),255*(i*n[1]+l),255*(i*n[2]+l)]},o.hcg.hsv=function(e){const t=e[1]/100,i=t+e[2]/100*(1-t);let r=0;return i>0&&(r=t/i),[e[0],100*r,100*i]},o.hcg.hsl=function(e){const t=e[1]/100,i=e[2]/100*(1-t)+.5*t;let r=0;return i>0&&i<.5?r=t/(2*i):i>=.5&&i<1&&(r=t/(2*(1-i))),[e[0],100*r,100*i]},o.hcg.hwb=function(e){const t=e[1]/100,i=t+e[2]/100*(1-t);return[e[0],100*(i-t),100*(1-i)]},o.hwb.hcg=function(e){const t=e[1]/100,i=1-e[2]/100,r=i-t;let n=0;return r<1&&(n=(i-r)/(1-r)),[e[0],100*r,100*n]},o.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]},o.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]},o.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]},o.gray.hsl=function(e){return[0,0,e[0]]},o.gray.hsv=o.gray.hsl,o.gray.hwb=function(e){return[0,100,e[0]]},o.gray.cmyk=function(e){return[0,0,0,e[0]]},o.gray.lab=function(e){return[e[0],0,0]},o.gray.hex=function(e){const t=255&Math.round(e[0]/100*255),i=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(i.length)+i},o.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]}},734:(e,t,i)=>{const r=i(5659),n=i(8507),o={};Object.keys(r).forEach((e=>{o[e]={},Object.defineProperty(o[e],"channels",{value:r[e].channels}),Object.defineProperty(o[e],"labels",{value:r[e].labels});const t=n(e);Object.keys(t).forEach((i=>{const r=t[i];o[e][i]=function(e){const t=function(...t){const i=t[0];if(null==i)return i;i.length>1&&(t=i);const r=e(t);if("object"==typeof r)for(let e=r.length,t=0;t<e;t++)r[t]=Math.round(r[t]);return r};return"conversion"in e&&(t.conversion=e.conversion),t}(r),o[e][i].raw=function(e){const t=function(...t){const i=t[0];return null==i?i:(i.length>1&&(t=i),e(t))};return"conversion"in e&&(t.conversion=e.conversion),t}(r)}))})),e.exports=o},8507:(e,t,i)=>{const r=i(5659);function n(e,t){return function(i){return t(e(i))}}function o(e,t){const i=[t[e].parent,e];let o=r[t[e].parent][e],a=t[e].parent;for(;t[a].parent;)i.unshift(t[a].parent),o=n(r[t[a].parent][a],o),a=t[a].parent;return o.conversion=i,o}e.exports=function(e){const t=function(e){const t=function(){const e={},t=Object.keys(r);for(let i=t.length,r=0;r<i;r++)e[t[r]]={distance:-1,parent:null};return e}(),i=[e];for(t[e].distance=0;i.length;){const e=i.pop(),n=Object.keys(r[e]);for(let r=n.length,o=0;o<r;o++){const r=n[o],a=t[r];-1===a.distance&&(a.distance=t[e].distance+1,a.parent=e,i.unshift(r))}}return t}(e),i={},n=Object.keys(t);for(let e=n.length,r=0;r<e;r++){const e=n[r];null!==t[e].parent&&(i[e]=o(e,t))}return i}},8156:e=>{"use strict";e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},8854:(e,t,i)=>{var r=i(8156),n=i(9872),o=Object.hasOwnProperty,a=Object.create(null);for(var s in r)o.call(r,s)&&(a[r[s]]=s);var l=e.exports={to:{},get:{}};function h(e,t,i){return Math.min(Math.max(t,e),i)}function c(e){var t=Math.round(e).toString(16).toUpperCase();return t.length<2?"0"+t:t}l.get=function(e){var t,i;switch(e.substring(0,3).toLowerCase()){case"hsl":t=l.get.hsl(e),i="hsl";break;case"hwb":t=l.get.hwb(e),i="hwb";break;default:t=l.get.rgb(e),i="rgb"}return t?{model:i,value:t}:null},l.get.rgb=function(e){if(!e)return null;var t,i,n,a=[0,0,0,1];if(t=e.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(n=t[2],t=t[1],i=0;i<3;i++){var s=2*i;a[i]=parseInt(t.slice(s,s+2),16)}n&&(a[3]=parseInt(n,16)/255)}else if(t=e.match(/^#([a-f0-9]{3,4})$/i)){for(n=(t=t[1])[3],i=0;i<3;i++)a[i]=parseInt(t[i]+t[i],16);n&&(a[3]=parseInt(n+n,16)/255)}else if(t=e.match(/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)){for(i=0;i<3;i++)a[i]=parseInt(t[i+1],0);t[4]&&(t[5]?a[3]=.01*parseFloat(t[4]):a[3]=parseFloat(t[4]))}else{if(!(t=e.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)))return(t=e.match(/^(\w+)$/))?"transparent"===t[1]?[0,0,0,0]:o.call(r,t[1])?((a=r[t[1]])[3]=1,a):null:null;for(i=0;i<3;i++)a[i]=Math.round(2.55*parseFloat(t[i+1]));t[4]&&(t[5]?a[3]=.01*parseFloat(t[4]):a[3]=parseFloat(t[4]))}for(i=0;i<3;i++)a[i]=h(a[i],0,255);return a[3]=h(a[3],0,1),a},l.get.hsl=function(e){if(!e)return null;var t=e.match(/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(t){var i=parseFloat(t[4]);return[(parseFloat(t[1])%360+360)%360,h(parseFloat(t[2]),0,100),h(parseFloat(t[3]),0,100),h(isNaN(i)?1:i,0,1)]}return null},l.get.hwb=function(e){if(!e)return null;var t=e.match(/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(t){var i=parseFloat(t[4]);return[(parseFloat(t[1])%360+360)%360,h(parseFloat(t[2]),0,100),h(parseFloat(t[3]),0,100),h(isNaN(i)?1:i,0,1)]}return null},l.to.hex=function(){var e=n(arguments);return"#"+c(e[0])+c(e[1])+c(e[2])+(e[3]<1?c(Math.round(255*e[3])):"")},l.to.rgb=function(){var e=n(arguments);return e.length<4||1===e[3]?"rgb("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+")":"rgba("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+", "+e[3]+")"},l.to.rgb.percent=function(){var e=n(arguments),t=Math.round(e[0]/255*100),i=Math.round(e[1]/255*100),r=Math.round(e[2]/255*100);return e.length<4||1===e[3]?"rgb("+t+"%, "+i+"%, "+r+"%)":"rgba("+t+"%, "+i+"%, "+r+"%, "+e[3]+")"},l.to.hsl=function(){var e=n(arguments);return e.length<4||1===e[3]?"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)":"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+e[3]+")"},l.to.hwb=function(){var e=n(arguments),t="";return e.length>=4&&1!==e[3]&&(t=", "+e[3]),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+t+")"},l.to.keyword=function(e){return a[e.slice(0,3)]}},2520:(e,t,i)=>{const r=i(8854),n=i(734),o=["keyword","gray","hex"],a={};for(const e of Object.keys(n))a[[...n[e].labels].sort().join("")]=e;const s={};function l(e,t){if(!(this instanceof l))return new l(e,t);if(t&&t in o&&(t=null),t&&!(t in n))throw new Error("Unknown model: "+t);let i,h;if(null==e)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(e instanceof l)this.model=e.model,this.color=[...e.color],this.valpha=e.valpha;else if("string"==typeof e){const t=r.get(e);if(null===t)throw new Error("Unable to parse color from string: "+e);this.model=t.model,h=n[this.model].channels,this.color=t.value.slice(0,h),this.valpha="number"==typeof t.value[h]?t.value[h]:1}else if(e.length>0){this.model=t||"rgb",h=n[this.model].channels;const i=Array.prototype.slice.call(e,0,h);this.color=u(i,h),this.valpha="number"==typeof e[h]?e[h]:1}else if("number"==typeof e)this.model="rgb",this.color=[e>>16&255,e>>8&255,255&e],this.valpha=1;else{this.valpha=1;const t=Object.keys(e);"alpha"in e&&(t.splice(t.indexOf("alpha"),1),this.valpha="number"==typeof e.alpha?e.alpha:0);const r=t.sort().join("");if(!(r in a))throw new Error("Unable to parse color from object: "+JSON.stringify(e));this.model=a[r];const{labels:o}=n[this.model],s=[];for(i=0;i<o.length;i++)s.push(e[o[i]]);this.color=u(s)}if(s[this.model])for(h=n[this.model].channels,i=0;i<h;i++){const e=s[this.model][i];e&&(this.color[i]=e(this.color[i]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}l.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(e){let t=this.model in r.to?this:this.rgb();t=t.round("number"==typeof e?e:1);const i=1===t.valpha?t.color:[...t.color,this.valpha];return r.to[t.model](i)},percentString(e){const t=this.rgb().round("number"==typeof e?e:1),i=1===t.valpha?t.color:[...t.color,this.valpha];return r.to.rgb.percent(i)},array(){return 1===this.valpha?[...this.color]:[...this.color,this.valpha]},object(){const e={},{channels:t}=n[this.model],{labels:i}=n[this.model];for(let r=0;r<t;r++)e[i[r]]=this.color[r];return 1!==this.valpha&&(e.alpha=this.valpha),e},unitArray(){const e=this.rgb().color;return e[0]/=255,e[1]/=255,e[2]/=255,1!==this.valpha&&e.push(this.valpha),e},unitObject(){const e=this.rgb().object();return e.r/=255,e.g/=255,e.b/=255,1!==this.valpha&&(e.alpha=this.valpha),e},round(e){return e=Math.max(e||0,0),new l([...this.color.map(h(e)),this.valpha],this.model)},alpha(e){return void 0!==e?new l([...this.color,Math.max(0,Math.min(1,e))],this.model):this.valpha},red:c("rgb",0,p(255)),green:c("rgb",1,p(255)),blue:c("rgb",2,p(255)),hue:c(["hsl","hsv","hsl","hwb","hcg"],0,(e=>(e%360+360)%360)),saturationl:c("hsl",1,p(100)),lightness:c("hsl",2,p(100)),saturationv:c("hsv",1,p(100)),value:c("hsv",2,p(100)),chroma:c("hcg",1,p(100)),gray:c("hcg",2,p(100)),white:c("hwb",1,p(100)),wblack:c("hwb",2,p(100)),cyan:c("cmyk",0,p(100)),magenta:c("cmyk",1,p(100)),yellow:c("cmyk",2,p(100)),black:c("cmyk",3,p(100)),x:c("xyz",0,p(95.047)),y:c("xyz",1,p(100)),z:c("xyz",2,p(108.833)),l:c("lab",0,p(100)),a:c("lab",1),b:c("lab",2),keyword(e){return void 0!==e?new l(e):n[this.model].keyword(this.color)},hex(e){return void 0!==e?new l(e):r.to.hex(this.rgb().round().color)},hexa(e){if(void 0!==e)return new l(e);const t=this.rgb().round().color;let i=Math.round(255*this.valpha).toString(16).toUpperCase();return 1===i.length&&(i="0"+i),r.to.hex(t)+i},rgbNumber(){const e=this.rgb().color;return(255&e[0])<<16|(255&e[1])<<8|255&e[2]},luminosity(){const e=this.rgb().color,t=[];for(const[i,r]of e.entries()){const e=r/255;t[i]=e<=.04045?e/12.92:((e+.055)/1.055)**2.4}return.2126*t[0]+.7152*t[1]+.0722*t[2]},contrast(e){const t=this.luminosity(),i=e.luminosity();return t>i?(t+.05)/(i+.05):(i+.05)/(t+.05)},level(e){const t=this.contrast(e);return t>=7?"AAA":t>=4.5?"AA":""},isDark(){const e=this.rgb().color;return(2126*e[0]+7152*e[1]+722*e[2])/1e4<128},isLight(){return!this.isDark()},negate(){const e=this.rgb();for(let t=0;t<3;t++)e.color[t]=255-e.color[t];return e},lighten(e){const t=this.hsl();return t.color[2]+=t.color[2]*e,t},darken(e){const t=this.hsl();return t.color[2]-=t.color[2]*e,t},saturate(e){const t=this.hsl();return t.color[1]+=t.color[1]*e,t},desaturate(e){const t=this.hsl();return t.color[1]-=t.color[1]*e,t},whiten(e){const t=this.hwb();return t.color[1]+=t.color[1]*e,t},blacken(e){const t=this.hwb();return t.color[2]+=t.color[2]*e,t},grayscale(){const e=this.rgb().color,t=.3*e[0]+.59*e[1]+.11*e[2];return l.rgb(t,t,t)},fade(e){return this.alpha(this.valpha-this.valpha*e)},opaquer(e){return this.alpha(this.valpha+this.valpha*e)},rotate(e){const t=this.hsl();let i=t.color[0];return i=(i+e)%360,i=i<0?360+i:i,t.color[0]=i,t},mix(e,t){if(!e||!e.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof e);const i=e.rgb(),r=this.rgb(),n=void 0===t?.5:t,o=2*n-1,a=i.alpha()-r.alpha(),s=((o*a==-1?o:(o+a)/(1+o*a))+1)/2,h=1-s;return l.rgb(s*i.red()+h*r.red(),s*i.green()+h*r.green(),s*i.blue()+h*r.blue(),i.alpha()*n+r.alpha()*(1-n))}};for(const e of Object.keys(n)){if(o.includes(e))continue;const{channels:t}=n[e];l.prototype[e]=function(...t){return this.model===e?new l(this):t.length>0?new l(t,e):new l([...(i=n[this.model][e].raw(this.color),Array.isArray(i)?i:[i]),this.valpha],e);var i},l[e]=function(...i){let r=i[0];return"number"==typeof r&&(r=u(i,t)),new l(r,e)}}function h(e){return function(t){return function(e,t){return Number(e.toFixed(t))}(t,e)}}function c(e,t,i){e=Array.isArray(e)?e:[e];for(const r of e)(s[r]||(s[r]=[]))[t]=i;return e=e[0],function(r){let n;return void 0!==r?(i&&(r=i(r)),n=this[e](),n.color[t]=r,n):(n=this[e]().color[t],i&&(n=i(n)),n)}}function p(e){return function(t){return Math.max(0,Math.min(e,t))}}function u(e,t){for(let i=0;i<t;i++)"number"!=typeof e[i]&&(e[i]=0);return e}e.exports=l},4647:(e,t,i)=>{"use strict";const r=i(5317),{isLinux:n,getReport:o}=i(5760),{LDD_PATH:a,readFile:s,readFileSync:l}=i(4322);let h,c;const p="getconf GNU_LIBC_VERSION 2>&1 || true; ldd --version 2>&1 || true";let u="";const d=()=>u||new Promise((e=>{r.exec(p,((t,i)=>{u=t?" ":i,e(u)}))})),f=()=>{if(!u)try{u=r.execSync(p,{encoding:"utf8"})}catch(e){u=" "}return u},m="glibc",g=/LIBC[a-z0-9 \-).]*?(\d+\.\d+)/i,b="musl",v=e=>e.includes("libc.musl-")||e.includes("ld-musl-"),w=()=>{const e=o();return e.header&&e.header.glibcVersionRuntime?m:Array.isArray(e.sharedObjects)&&e.sharedObjects.some(v)?b:null},E=e=>{const[t,i]=e.split(/[\r\n]+/);return t&&t.includes(m)?m:i&&i.includes(b)?b:null},y=e=>e.includes("musl")?b:e.includes("GNU C Library")?m:null,x=async()=>{let e=null;if(n()&&(e=await(async()=>{if(void 0!==h)return h;h=null;try{const e=await s(a);h=y(e)}catch(e){}return h})(),e||(e=w()),!e)){const t=await d();e=E(t)}return e},P=()=>{let e=null;if(n()&&(e=(()=>{if(void 0!==h)return h;h=null;try{const e=l(a);h=y(e)}catch(e){}return h})(),e||(e=w()),!e)){const t=f();e=E(t)}return e},O=()=>{const e=o();return e.header&&e.header.glibcVersionRuntime?e.header.glibcVersionRuntime:null},R=e=>e.trim().split(/\s+/)[1],I=e=>{const[t,i,r]=e.split(/[\r\n]+/);return t&&t.includes(m)?R(t):i&&r&&i.includes(b)?R(r):null};e.exports={GLIBC:m,MUSL:b,family:x,familySync:P,isNonGlibcLinux:async()=>n()&&await x()!==m,isNonGlibcLinuxSync:()=>n()&&P()!==m,version:async()=>{let e=null;if(n()&&(e=await(async()=>{if(void 0!==c)return c;c=null;try{const e=(await s(a)).match(g);e&&(c=e[1])}catch(e){}return c})(),e||(e=O()),!e)){const t=await d();e=I(t)}return e},versionSync:()=>{let e=null;if(n()&&(e=(()=>{if(void 0!==c)return c;c=null;try{const e=l(a).match(g);e&&(c=e[1])}catch(e){}return c})(),e||(e=O()),!e)){const t=f();e=I(t)}return e}}},4322:(e,t,i)=>{"use strict";const r=i(9896);e.exports={LDD_PATH:"/usr/bin/ldd",readFileSync:e=>r.readFileSync(e,"utf-8"),readFile:e=>new Promise(((t,i)=>{r.readFile(e,"utf-8",((e,r)=>{e?i(e):t(r)}))}))}},5760:e=>{"use strict";const t=()=>"linux"===process.platform;let i=null;e.exports={isLinux:t,getReport:()=>{if(!i)if(t()&&process.report){const e=process.report.excludeNetwork;process.report.excludeNetwork=!0,i=process.report.getReport(),process.report.excludeNetwork=e}else i={};return i}}},6195:e=>{e.exports=function(e){return!(!e||"string"==typeof e)&&(e instanceof Array||Array.isArray(e)||e.length>=0&&(e.splice instanceof Function||Object.getOwnPropertyDescriptor(e,e.length-1)&&"String"!==e.constructor.name))}},3904:(e,t,i)=>{const r=Symbol("SemVer ANY");class n{static get ANY(){return r}constructor(e,t){if(t=o(t),e instanceof n){if(e.loose===!!t.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),h("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===r?this.value="":this.value=this.operator+this.semver.version,h("comp",this)}parse(e){const t=this.options.loose?a[s.COMPARATORLOOSE]:a[s.COMPARATOR],i=e.match(t);if(!i)throw new TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==i[1]?i[1]:"","="===this.operator&&(this.operator=""),i[2]?this.semver=new c(i[2],this.options.loose):this.semver=r}toString(){return this.value}test(e){if(h("Comparator.test",e,this.options.loose),this.semver===r||e===r)return!0;if("string"==typeof e)try{e=new c(e,this.options)}catch(e){return!1}return l(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof n))throw new TypeError("a Comparator is required");return""===this.operator?""===this.value||new p(e.value,t).test(this.value):""===e.operator?""===e.value||new p(this.value,t).test(e.semver):!((t=o(t)).includePrerelease&&("<0.0.0-0"===this.value||"<0.0.0-0"===e.value)||!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))||(!this.operator.startsWith(">")||!e.operator.startsWith(">"))&&(!this.operator.startsWith("<")||!e.operator.startsWith("<"))&&(this.semver.version!==e.semver.version||!this.operator.includes("=")||!e.operator.includes("="))&&!(l(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<"))&&!(l(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}}e.exports=n;const o=i(8587),{safeRe:a,t:s}=i(9718),l=i(2111),h=i(7272),c=i(3908),p=i(8311)},8311:(e,t,i)=>{class r{constructor(e,t){if(t=o(t),e instanceof r)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new r(e.raw,t);if(e instanceof a)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map((e=>this.parseRange(e.trim()))).filter((e=>e.length)),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const e=this.set[0];if(this.set=this.set.filter((e=>!g(e[0]))),0===this.set.length)this.set=[e];else if(this.set.length>1)for(const e of this.set)if(1===e.length&&b(e[0])){this.set=[e];break}}this.format()}format(){return this.range=this.set.map((e=>e.join(" ").trim())).join("||").trim(),this.range}toString(){return this.range}parseRange(e){const t=((this.options.includePrerelease&&f)|(this.options.loose&&m))+":"+e,i=n.get(t);if(i)return i;const r=this.options.loose,o=r?h[c.HYPHENRANGELOOSE]:h[c.HYPHENRANGE];e=e.replace(o,k(this.options.includePrerelease)),s("hyphen replace",e),e=e.replace(h[c.COMPARATORTRIM],p),s("comparator trim",e),e=e.replace(h[c.TILDETRIM],u),s("tilde trim",e),e=e.replace(h[c.CARETTRIM],d),s("caret trim",e);let l=e.split(" ").map((e=>w(e,this.options))).join(" ").split(/\s+/).map((e=>A(e,this.options)));r&&(l=l.filter((e=>(s("loose invalid filter",e,this.options),!!e.match(h[c.COMPARATORLOOSE]))))),s("range list",l);const b=new Map,v=l.map((e=>new a(e,this.options)));for(const e of v){if(g(e))return[e];b.set(e.value,e)}b.size>1&&b.has("")&&b.delete("");const E=[...b.values()];return n.set(t,E),E}intersects(e,t){if(!(e instanceof r))throw new TypeError("a Range is required");return this.set.some((i=>v(i,t)&&e.set.some((e=>v(e,t)&&i.every((i=>e.every((e=>i.intersects(e,t)))))))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new l(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if($(this.set[t],e,this.options))return!0;return!1}}e.exports=r;const n=new(i(8794)),o=i(8587),a=i(3904),s=i(7272),l=i(3908),{safeRe:h,t:c,comparatorTrimReplace:p,tildeTrimReplace:u,caretTrimReplace:d}=i(9718),{FLAG_INCLUDE_PRERELEASE:f,FLAG_LOOSE:m}=i(6874),g=e=>"<0.0.0-0"===e.value,b=e=>""===e.value,v=(e,t)=>{let i=!0;const r=e.slice();let n=r.pop();for(;i&&r.length;)i=r.every((e=>n.intersects(e,t))),n=r.pop();return i},w=(e,t)=>(s("comp",e,t),e=P(e,t),s("caret",e),e=y(e,t),s("tildes",e),e=R(e,t),s("xrange",e),e=j(e,t),s("stars",e),e),E=e=>!e||"x"===e.toLowerCase()||"*"===e,y=(e,t)=>e.trim().split(/\s+/).map((e=>x(e,t))).join(" "),x=(e,t)=>{const i=t.loose?h[c.TILDELOOSE]:h[c.TILDE];return e.replace(i,((t,i,r,n,o)=>{let a;return s("tilde",e,t,i,r,n,o),E(i)?a="":E(r)?a=`>=${i}.0.0 <${+i+1}.0.0-0`:E(n)?a=`>=${i}.${r}.0 <${i}.${+r+1}.0-0`:o?(s("replaceTilde pr",o),a=`>=${i}.${r}.${n}-${o} <${i}.${+r+1}.0-0`):a=`>=${i}.${r}.${n} <${i}.${+r+1}.0-0`,s("tilde return",a),a}))},P=(e,t)=>e.trim().split(/\s+/).map((e=>O(e,t))).join(" "),O=(e,t)=>{s("caret",e,t);const i=t.loose?h[c.CARETLOOSE]:h[c.CARET],r=t.includePrerelease?"-0":"";return e.replace(i,((t,i,n,o,a)=>{let l;return s("caret",e,t,i,n,o,a),E(i)?l="":E(n)?l=`>=${i}.0.0${r} <${+i+1}.0.0-0`:E(o)?l="0"===i?`>=${i}.${n}.0${r} <${i}.${+n+1}.0-0`:`>=${i}.${n}.0${r} <${+i+1}.0.0-0`:a?(s("replaceCaret pr",a),l="0"===i?"0"===n?`>=${i}.${n}.${o}-${a} <${i}.${n}.${+o+1}-0`:`>=${i}.${n}.${o}-${a} <${i}.${+n+1}.0-0`:`>=${i}.${n}.${o}-${a} <${+i+1}.0.0-0`):(s("no pr"),l="0"===i?"0"===n?`>=${i}.${n}.${o}${r} <${i}.${n}.${+o+1}-0`:`>=${i}.${n}.${o}${r} <${i}.${+n+1}.0-0`:`>=${i}.${n}.${o} <${+i+1}.0.0-0`),s("caret return",l),l}))},R=(e,t)=>(s("replaceXRanges",e,t),e.split(/\s+/).map((e=>I(e,t))).join(" ")),I=(e,t)=>{e=e.trim();const i=t.loose?h[c.XRANGELOOSE]:h[c.XRANGE];return e.replace(i,((i,r,n,o,a,l)=>{s("xRange",e,i,r,n,o,a,l);const h=E(n),c=h||E(o),p=c||E(a),u=p;return"="===r&&u&&(r=""),l=t.includePrerelease?"-0":"",h?i=">"===r||"<"===r?"<0.0.0-0":"*":r&&u?(c&&(o=0),a=0,">"===r?(r=">=",c?(n=+n+1,o=0,a=0):(o=+o+1,a=0)):"<="===r&&(r="<",c?n=+n+1:o=+o+1),"<"===r&&(l="-0"),i=`${r+n}.${o}.${a}${l}`):c?i=`>=${n}.0.0${l} <${+n+1}.0.0-0`:p&&(i=`>=${n}.${o}.0${l} <${n}.${+o+1}.0-0`),s("xRange return",i),i}))},j=(e,t)=>(s("replaceStars",e,t),e.trim().replace(h[c.STAR],"")),A=(e,t)=>(s("replaceGTE0",e,t),e.trim().replace(h[t.includePrerelease?c.GTE0PRE:c.GTE0],"")),k=e=>(t,i,r,n,o,a,s,l,h,c,p,u)=>`${i=E(r)?"":E(n)?`>=${r}.0.0${e?"-0":""}`:E(o)?`>=${r}.${n}.0${e?"-0":""}`:a?`>=${i}`:`>=${i}${e?"-0":""}`} ${l=E(h)?"":E(c)?`<${+h+1}.0.0-0`:E(p)?`<${h}.${+c+1}.0-0`:u?`<=${h}.${c}.${p}-${u}`:e?`<${h}.${c}.${+p+1}-0`:`<=${l}`}`.trim(),$=(e,t,i)=>{for(let i=0;i<e.length;i++)if(!e[i].test(t))return!1;if(t.prerelease.length&&!i.includePrerelease){for(let i=0;i<e.length;i++)if(s(e[i].semver),e[i].semver!==a.ANY&&e[i].semver.prerelease.length>0){const r=e[i].semver;if(r.major===t.major&&r.minor===t.minor&&r.patch===t.patch)return!0}return!1}return!0}},3908:(e,t,i)=>{const r=i(7272),{MAX_LENGTH:n,MAX_SAFE_INTEGER:o}=i(6874),{safeRe:a,t:s}=i(9718),l=i(8587),{compareIdentifiers:h}=i(1123);class c{constructor(e,t){if(t=l(t),e instanceof c){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>n)throw new TypeError(`version is longer than ${n} characters`);r("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const i=e.trim().match(t.loose?a[s.LOOSE]:a[s.FULL]);if(!i)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+i[1],this.minor=+i[2],this.patch=+i[3],this.major>o||this.major<0)throw new TypeError("Invalid major version");if(this.minor>o||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>o||this.patch<0)throw new TypeError("Invalid patch version");i[4]?this.prerelease=i[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<o)return t}return e})):this.prerelease=[],this.build=i[5]?i[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(r("SemVer.compare",this.version,this.options,e),!(e instanceof c)){if("string"==typeof e&&e===this.version)return 0;e=new c(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof c||(e=new c(e,this.options)),h(this.major,e.major)||h(this.minor,e.minor)||h(this.patch,e.patch)}comparePre(e){if(e instanceof c||(e=new c(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const i=this.prerelease[t],n=e.prerelease[t];if(r("prerelease compare",t,i,n),void 0===i&&void 0===n)return 0;if(void 0===n)return 1;if(void 0===i)return-1;if(i!==n)return h(i,n)}while(++t)}compareBuild(e){e instanceof c||(e=new c(e,this.options));let t=0;do{const i=this.build[t],n=e.build[t];if(r("build compare",t,i,n),void 0===i&&void 0===n)return 0;if(void 0===n)return 1;if(void 0===i)return-1;if(i!==n)return h(i,n)}while(++t)}inc(e,t,i){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,i);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,i);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,i),this.inc("pre",t,i);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,i),this.inc("pre",t,i);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{const e=Number(i)?1:0;if(!t&&!1===i)throw new Error("invalid increment argument: identifier is empty");if(0===this.prerelease.length)this.prerelease=[e];else{let r=this.prerelease.length;for(;--r>=0;)"number"==typeof this.prerelease[r]&&(this.prerelease[r]++,r=-2);if(-1===r){if(t===this.prerelease.join(".")&&!1===i)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let r=[t,e];!1===i&&(r=[t]),0===h(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=r):this.prerelease=r}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}e.exports=c},2111:(e,t,i)=>{const r=i(4641),n=i(3999),o=i(5580),a=i(4089),s=i(7059),l=i(5200);e.exports=(e,t,i,h)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof i&&(i=i.version),e===i;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof i&&(i=i.version),e!==i;case"":case"=":case"==":return r(e,i,h);case"!=":return n(e,i,h);case">":return o(e,i,h);case">=":return a(e,i,h);case"<":return s(e,i,h);case"<=":return l(e,i,h);default:throw new TypeError(`Invalid operator: ${t}`)}}},6170:(e,t,i)=>{const r=i(3908),n=i(144),{safeRe:o,t:a}=i(9718);e.exports=(e,t)=>{if(e instanceof r)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let i=null;if((t=t||{}).rtl){const r=t.includePrerelease?o[a.COERCERTLFULL]:o[a.COERCERTL];let n;for(;(n=r.exec(e))&&(!i||i.index+i[0].length!==e.length);)i&&n.index+n[0].length===i.index+i[0].length||(i=n),r.lastIndex=n.index+n[1].length+n[2].length;r.lastIndex=-1}else i=e.match(t.includePrerelease?o[a.COERCEFULL]:o[a.COERCE]);if(null===i)return null;const s=i[2],l=i[3]||"0",h=i[4]||"0",c=t.includePrerelease&&i[5]?`-${i[5]}`:"",p=t.includePrerelease&&i[6]?`+${i[6]}`:"";return n(`${s}.${l}.${h}${c}${p}`,t)}},560:(e,t,i)=>{const r=i(3908);e.exports=(e,t,i)=>new r(e,i).compare(new r(t,i))},4641:(e,t,i)=>{const r=i(560);e.exports=(e,t,i)=>0===r(e,t,i)},5580:(e,t,i)=>{const r=i(560);e.exports=(e,t,i)=>r(e,t,i)>0},4089:(e,t,i)=>{const r=i(560);e.exports=(e,t,i)=>r(e,t,i)>=0},7059:(e,t,i)=>{const r=i(560);e.exports=(e,t,i)=>r(e,t,i)<0},5200:(e,t,i)=>{const r=i(560);e.exports=(e,t,i)=>r(e,t,i)<=0},3999:(e,t,i)=>{const r=i(560);e.exports=(e,t,i)=>0!==r(e,t,i)},144:(e,t,i)=>{const r=i(3908);e.exports=(e,t,i=!1)=>{if(e instanceof r)return e;try{return new r(e,t)}catch(e){if(!i)return null;throw e}}},7638:(e,t,i)=>{const r=i(8311);e.exports=(e,t,i)=>{try{t=new r(t,i)}catch(e){return!1}return t.test(e)}},6874:e=>{const t=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:t,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},7272:e=>{const t="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=t},1123:e=>{const t=/^[0-9]+$/,i=(e,i)=>{const r=t.test(e),n=t.test(i);return r&&n&&(e=+e,i=+i),e===i?0:r&&!n?-1:n&&!r?1:e<i?-1:1};e.exports={compareIdentifiers:i,rcompareIdentifiers:(e,t)=>i(t,e)}},8794:e=>{e.exports=class{constructor(){this.max=1e3,this.map=new Map}get(e){const t=this.map.get(e);return void 0===t?void 0:(this.map.delete(e),this.map.set(e,t),t)}delete(e){return this.map.delete(e)}set(e,t){if(!this.delete(e)&&void 0!==t){if(this.map.size>=this.max){const e=this.map.keys().next().value;this.delete(e)}this.map.set(e,t)}return this}}},8587:e=>{const t=Object.freeze({loose:!0}),i=Object.freeze({});e.exports=e=>e?"object"!=typeof e?t:e:i},9718:(e,t,i)=>{const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:o}=i(6874),a=i(7272),s=(t=e.exports={}).re=[],l=t.safeRe=[],h=t.src=[],c=t.t={};let p=0;const u="[a-zA-Z0-9-]",d=[["\\s",1],["\\d",o],[u,n]],f=(e,t,i)=>{const r=(e=>{for(const[t,i]of d)e=e.split(`${t}*`).join(`${t}{0,${i}}`).split(`${t}+`).join(`${t}{1,${i}}`);return e})(t),n=p++;a(e,n,t),c[e]=n,h[n]=t,s[n]=new RegExp(t,i?"g":void 0),l[n]=new RegExp(r,i?"g":void 0)};f("NUMERICIDENTIFIER","0|[1-9]\\d*"),f("NUMERICIDENTIFIERLOOSE","\\d+"),f("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${u}*`),f("MAINVERSION",`(${h[c.NUMERICIDENTIFIER]})\\.(${h[c.NUMERICIDENTIFIER]})\\.(${h[c.NUMERICIDENTIFIER]})`),f("MAINVERSIONLOOSE",`(${h[c.NUMERICIDENTIFIERLOOSE]})\\.(${h[c.NUMERICIDENTIFIERLOOSE]})\\.(${h[c.NUMERICIDENTIFIERLOOSE]})`),f("PRERELEASEIDENTIFIER",`(?:${h[c.NUMERICIDENTIFIER]}|${h[c.NONNUMERICIDENTIFIER]})`),f("PRERELEASEIDENTIFIERLOOSE",`(?:${h[c.NUMERICIDENTIFIERLOOSE]}|${h[c.NONNUMERICIDENTIFIER]})`),f("PRERELEASE",`(?:-(${h[c.PRERELEASEIDENTIFIER]}(?:\\.${h[c.PRERELEASEIDENTIFIER]})*))`),f("PRERELEASELOOSE",`(?:-?(${h[c.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${h[c.PRERELEASEIDENTIFIERLOOSE]})*))`),f("BUILDIDENTIFIER",`${u}+`),f("BUILD",`(?:\\+(${h[c.BUILDIDENTIFIER]}(?:\\.${h[c.BUILDIDENTIFIER]})*))`),f("FULLPLAIN",`v?${h[c.MAINVERSION]}${h[c.PRERELEASE]}?${h[c.BUILD]}?`),f("FULL",`^${h[c.FULLPLAIN]}$`),f("LOOSEPLAIN",`[v=\\s]*${h[c.MAINVERSIONLOOSE]}${h[c.PRERELEASELOOSE]}?${h[c.BUILD]}?`),f("LOOSE",`^${h[c.LOOSEPLAIN]}$`),f("GTLT","((?:<|>)?=?)"),f("XRANGEIDENTIFIERLOOSE",`${h[c.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),f("XRANGEIDENTIFIER",`${h[c.NUMERICIDENTIFIER]}|x|X|\\*`),f("XRANGEPLAIN",`[v=\\s]*(${h[c.XRANGEIDENTIFIER]})(?:\\.(${h[c.XRANGEIDENTIFIER]})(?:\\.(${h[c.XRANGEIDENTIFIER]})(?:${h[c.PRERELEASE]})?${h[c.BUILD]}?)?)?`),f("XRANGEPLAINLOOSE",`[v=\\s]*(${h[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${h[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${h[c.XRANGEIDENTIFIERLOOSE]})(?:${h[c.PRERELEASELOOSE]})?${h[c.BUILD]}?)?)?`),f("XRANGE",`^${h[c.GTLT]}\\s*${h[c.XRANGEPLAIN]}$`),f("XRANGELOOSE",`^${h[c.GTLT]}\\s*${h[c.XRANGEPLAINLOOSE]}$`),f("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),f("COERCE",`${h[c.COERCEPLAIN]}(?:$|[^\\d])`),f("COERCEFULL",h[c.COERCEPLAIN]+`(?:${h[c.PRERELEASE]})?`+`(?:${h[c.BUILD]})?(?:$|[^\\d])`),f("COERCERTL",h[c.COERCE],!0),f("COERCERTLFULL",h[c.COERCEFULL],!0),f("LONETILDE","(?:~>?)"),f("TILDETRIM",`(\\s*)${h[c.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",f("TILDE",`^${h[c.LONETILDE]}${h[c.XRANGEPLAIN]}$`),f("TILDELOOSE",`^${h[c.LONETILDE]}${h[c.XRANGEPLAINLOOSE]}$`),f("LONECARET","(?:\\^)"),f("CARETTRIM",`(\\s*)${h[c.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",f("CARET",`^${h[c.LONECARET]}${h[c.XRANGEPLAIN]}$`),f("CARETLOOSE",`^${h[c.LONECARET]}${h[c.XRANGEPLAINLOOSE]}$`),f("COMPARATORLOOSE",`^${h[c.GTLT]}\\s*(${h[c.LOOSEPLAIN]})$|^$`),f("COMPARATOR",`^${h[c.GTLT]}\\s*(${h[c.FULLPLAIN]})$|^$`),f("COMPARATORTRIM",`(\\s*)${h[c.GTLT]}\\s*(${h[c.LOOSEPLAIN]}|${h[c.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",f("HYPHENRANGE",`^\\s*(${h[c.XRANGEPLAIN]})\\s+-\\s+(${h[c.XRANGEPLAIN]})\\s*$`),f("HYPHENRANGELOOSE",`^\\s*(${h[c.XRANGEPLAINLOOSE]})\\s+-\\s+(${h[c.XRANGEPLAINLOOSE]})\\s*$`),f("STAR","(<|>)?=?\\s*\\*"),f("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),f("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},8678:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=8678,e.exports=t},9872:(e,t,i)=>{"use strict";var r=i(6195),n=Array.prototype.concat,o=Array.prototype.slice,a=e.exports=function(e){for(var t=[],i=0,a=e.length;i<a;i++){var s=e[i];r(s)?t=n.call(t,o.call(s)):t.push(s)}return t};a.wrap=function(e){return function(){return e(a(arguments))}}},8066:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.allowedExtensions=void 0,t.allowedExtensions=["jpeg","jpg","png","webp","tiff","tif","gif","svg","avif","heif"]},5584:function(e,t,i){"use strict";var r=this&&this.__awaiter||function(e,t,i,r){return new(i||(i=Promise))((function(n,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.JpegConverter=void 0;const o=n(i(2926)),a=i(8066);t.JpegConverter=class{convert(e,t){return r(this,void 0,void 0,(function*(){const i=(0,o.default)(e);return yield i.jpeg().toFile(t),Promise.resolve()}))}get allowedExtensions(){return a.allowedExtensions}get returnableExtension(){return"png"}}},9305:function(e,t,i){"use strict";var r=this&&this.__awaiter||function(e,t,i,r){return new(i||(i=Promise))((function(n,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PngConverter=void 0;const o=n(i(2926)),a=i(8066);t.PngConverter=class{convert(e,t){return r(this,void 0,void 0,(function*(){const i=(0,o.default)(e);return yield i.png().toFile(t),Promise.resolve()}))}get allowedExtensions(){return a.allowedExtensions}get returnableExtension(){return"png"}}},5317:e=>{"use strict";e.exports=require("child_process")},9896:e=>{"use strict";e.exports=require("fs")},1421:e=>{"use strict";e.exports=require("node:child_process")},7598:e=>{"use strict";e.exports=require("node:crypto")},8474:e=>{"use strict";e.exports=require("node:events")},8161:e=>{"use strict";e.exports=require("node:os")},6760:e=>{"use strict";e.exports=require("node:path")},7075:e=>{"use strict";e.exports=require("node:stream")},7975:e=>{"use strict";e.exports=require("node:util")},3897:(e,t,i)=>{"use strict";const r=i(5424),n={and:"and",or:"or",eor:"eor"};function o(){return this.options.removeAlpha=!0,this}function a(e){if(r.defined(e)){if(!r.number(e)||!r.inRange(e,0,1))throw r.invalidParameterError("alpha","number between 0 and 1",e);this.options.ensureAlpha=e}else this.options.ensureAlpha=1;return this}function s(e){const t={red:0,green:1,blue:2,alpha:3};if(Object.keys(t).includes(e)&&(e=t[e]),!r.integer(e)||!r.inRange(e,0,4))throw r.invalidParameterError("channel","integer or one of: red, green, blue, alpha",e);return this.options.extractChannel=e,this}function l(e,t){return Array.isArray(e)?e.forEach((function(e){this.options.joinChannelIn.push(this._createInputDescriptor(e,t))}),this):this.options.joinChannelIn.push(this._createInputDescriptor(e,t)),this}function h(e){if(!r.string(e)||!r.inArray(e,["and","or","eor"]))throw r.invalidParameterError("boolOp","one of: and, or, eor",e);return this.options.bandBoolOp=e,this}e.exports=function(e){Object.assign(e.prototype,{removeAlpha:o,ensureAlpha:a,extractChannel:s,joinChannel:l,bandbool:h}),e.bool=n}},9684:(e,t,i)=>{"use strict";const r=i(2520),n=i(5424),o={multiband:"multiband","b-w":"b-w",bw:"b-w",cmyk:"cmyk",srgb:"srgb"};function a(e){return this._setBackgroundColourOption("tint",e),this}function s(e){return this.options.greyscale=!n.bool(e)||e,this}function l(e){return this.greyscale(e)}function h(e){if(!n.string(e))throw n.invalidParameterError("colourspace","string",e);return this.options.colourspacePipeline=e,this}function c(e){return this.pipelineColourspace(e)}function p(e){if(!n.string(e))throw n.invalidParameterError("colourspace","string",e);return this.options.colourspace=e,this}function u(e){return this.toColourspace(e)}function d(e,t){if(n.defined(t)){if(!n.object(t)&&!n.string(t))throw n.invalidParameterError("background","object or string",t);{const i=r(t);this.options[e]=[i.red(),i.green(),i.blue(),Math.round(255*i.alpha())]}}}e.exports=function(e){Object.assign(e.prototype,{tint:a,greyscale:s,grayscale:l,pipelineColourspace:h,pipelineColorspace:c,toColourspace:p,toColorspace:u,_setBackgroundColourOption:d}),e.colourspace=o,e.colorspace=o}},6317:(e,t,i)=>{"use strict";const r=i(5424),n={clear:"clear",source:"source",over:"over",in:"in",out:"out",atop:"atop",dest:"dest","dest-over":"dest-over","dest-in":"dest-in","dest-out":"dest-out","dest-atop":"dest-atop",xor:"xor",add:"add",saturate:"saturate",multiply:"multiply",screen:"screen",overlay:"overlay",darken:"darken",lighten:"lighten","colour-dodge":"colour-dodge","color-dodge":"colour-dodge","colour-burn":"colour-burn","color-burn":"colour-burn","hard-light":"hard-light","soft-light":"soft-light",difference:"difference",exclusion:"exclusion"};function o(e){if(!Array.isArray(e))throw r.invalidParameterError("images to composite","array",e);return this.options.composite=e.map((e=>{if(!r.object(e))throw r.invalidParameterError("image to composite","object",e);const t=this._inputOptionsFromObject(e),i={input:this._createInputDescriptor(e.input,t,{allowStream:!1}),blend:"over",tile:!1,left:0,top:0,hasOffset:!1,gravity:0,premultiplied:!1};if(r.defined(e.blend)){if(!r.string(n[e.blend]))throw r.invalidParameterError("blend","valid blend name",e.blend);i.blend=n[e.blend]}if(r.defined(e.tile)){if(!r.bool(e.tile))throw r.invalidParameterError("tile","boolean",e.tile);i.tile=e.tile}if(r.defined(e.left)){if(!r.integer(e.left))throw r.invalidParameterError("left","integer",e.left);i.left=e.left}if(r.defined(e.top)){if(!r.integer(e.top))throw r.invalidParameterError("top","integer",e.top);i.top=e.top}if(r.defined(e.top)!==r.defined(e.left))throw new Error("Expected both left and top to be set");if(i.hasOffset=r.integer(e.top)&&r.integer(e.left),r.defined(e.gravity))if(r.integer(e.gravity)&&r.inRange(e.gravity,0,8))i.gravity=e.gravity;else{if(!r.string(e.gravity)||!r.integer(this.constructor.gravity[e.gravity]))throw r.invalidParameterError("gravity","valid gravity",e.gravity);i.gravity=this.constructor.gravity[e.gravity]}if(r.defined(e.premultiplied)){if(!r.bool(e.premultiplied))throw r.invalidParameterError("premultiplied","boolean",e.premultiplied);i.premultiplied=e.premultiplied}return i})),this}e.exports=function(e){e.prototype.composite=o,e.blend=n}},4806:(e,t,i)=>{"use strict";const r=i(7975),n=i(7075),o=i(5424);i(9814);const a=r.debuglog("sharp"),s=function(e,t){if(1===arguments.length&&!o.defined(e))throw new Error("Invalid input");return this instanceof s?(n.Duplex.call(this),this.options={topOffsetPre:-1,leftOffsetPre:-1,widthPre:-1,heightPre:-1,topOffsetPost:-1,leftOffsetPost:-1,widthPost:-1,heightPost:-1,width:-1,height:-1,canvas:"crop",position:0,resizeBackground:[0,0,0,255],useExifOrientation:!1,angle:0,rotationAngle:0,rotationBackground:[0,0,0,255],rotateBeforePreExtract:!1,flip:!1,flop:!1,extendTop:0,extendBottom:0,extendLeft:0,extendRight:0,extendBackground:[0,0,0,255],extendWith:"background",withoutEnlargement:!1,withoutReduction:!1,affineMatrix:[],affineBackground:[0,0,0,255],affineIdx:0,affineIdy:0,affineOdx:0,affineOdy:0,affineInterpolator:this.constructor.interpolators.bilinear,kernel:"lanczos3",fastShrinkOnLoad:!0,tint:[-1,0,0,0],flatten:!1,flattenBackground:[0,0,0],unflatten:!1,negate:!1,negateAlpha:!0,medianSize:0,blurSigma:0,sharpenSigma:0,sharpenM1:1,sharpenM2:2,sharpenX1:2,sharpenY2:10,sharpenY3:20,threshold:0,thresholdGrayscale:!0,trimBackground:[],trimThreshold:-1,trimLineArt:!1,gamma:0,gammaOut:0,greyscale:!1,normalise:!1,normaliseLower:1,normaliseUpper:99,claheWidth:0,claheHeight:0,claheMaxSlope:3,brightness:1,saturation:1,hue:0,lightness:0,booleanBufferIn:null,booleanFileIn:"",joinChannelIn:[],extractChannel:-1,removeAlpha:!1,ensureAlpha:-1,colourspace:"srgb",colourspacePipeline:"last",composite:[],fileOut:"",formatOut:"input",streamOut:!1,keepMetadata:0,withMetadataOrientation:-1,withMetadataDensity:0,withIccProfile:"",withExif:{},withExifMerge:!0,resolveWithObject:!1,jpegQuality:80,jpegProgressive:!1,jpegChromaSubsampling:"4:2:0",jpegTrellisQuantisation:!1,jpegOvershootDeringing:!1,jpegOptimiseScans:!1,jpegOptimiseCoding:!0,jpegQuantisationTable:0,pngProgressive:!1,pngCompressionLevel:6,pngAdaptiveFiltering:!1,pngPalette:!1,pngQuality:100,pngEffort:7,pngBitdepth:8,pngDither:1,jp2Quality:80,jp2TileHeight:512,jp2TileWidth:512,jp2Lossless:!1,jp2ChromaSubsampling:"4:4:4",webpQuality:80,webpAlphaQuality:100,webpLossless:!1,webpNearLossless:!1,webpSmartSubsample:!1,webpPreset:"default",webpEffort:4,webpMinSize:!1,webpMixed:!1,gifBitdepth:8,gifEffort:7,gifDither:1,gifInterFrameMaxError:0,gifInterPaletteMaxError:3,gifReuse:!0,gifProgressive:!1,tiffQuality:80,tiffCompression:"jpeg",tiffPredictor:"horizontal",tiffPyramid:!1,tiffMiniswhite:!1,tiffBitdepth:8,tiffTile:!1,tiffTileHeight:256,tiffTileWidth:256,tiffXres:1,tiffYres:1,tiffResolutionUnit:"inch",heifQuality:50,heifLossless:!1,heifCompression:"av1",heifEffort:4,heifChromaSubsampling:"4:4:4",heifBitdepth:8,jxlDistance:1,jxlDecodingTier:0,jxlEffort:7,jxlLossless:!1,rawDepth:"uchar",tileSize:256,tileOverlap:0,tileContainer:"fs",tileLayout:"dz",tileFormat:"last",tileDepth:"last",tileAngle:0,tileSkipBlanks:-1,tileBackground:[255,255,255,255],tileCentre:!1,tileId:"https://example.com/iiif",tileBasename:"",timeoutSeconds:0,linearA:[],linearB:[],debuglog:e=>{this.emit("warning",e),a(e)},queueListener:function(e){s.queue.emit("change",e)}},this.options.input=this._createInputDescriptor(e,t,{allowStream:!0}),this):new s(e,t)};Object.setPrototypeOf(s.prototype,n.Duplex.prototype),Object.setPrototypeOf(s,n.Duplex),Object.assign(s.prototype,{clone:function(){const e=this.constructor.call(),{debuglog:t,queueListener:i,...r}=this.options;return e.options=structuredClone(r),e.options.debuglog=t,e.options.queueListener=i,this._isStreamInput()&&this.on("finish",(()=>{this._flattenBufferIn(),e.options.input.buffer=this.options.input.buffer,e.emit("finish")})),e}}),e.exports=s},2926:(e,t,i)=>{"use strict";const r=i(4806);i(1158)(r),i(9212)(r),i(6317)(r),i(6491)(r),i(9684)(r),i(3897)(r),i(2837)(r),i(8398)(r),e.exports=r},1158:(e,t,i)=>{"use strict";const r=i(2520),n=i(5424),o=i(9814),a={left:"low",center:"centre",centre:"centre",right:"high"};function s(e){const{raw:t,density:i,limitInputPixels:r,ignoreIcc:o,unlimited:a,sequentialRead:s,failOn:l,failOnError:h,animated:c,page:p,pages:u,subifd:d}=e;return[t,i,r,o,a,s,l,h,c,p,u,d].some(n.defined)?{raw:t,density:i,limitInputPixels:r,ignoreIcc:o,unlimited:a,sequentialRead:s,failOn:l,failOnError:h,animated:c,page:p,pages:u,subifd:d}:void 0}function l(e,t,i){const o={failOn:"warning",limitInputPixels:Math.pow(16383,2),ignoreIcc:!1,unlimited:!1,sequentialRead:!0};if(n.string(e))o.file=e;else if(n.buffer(e)){if(0===e.length)throw Error("Input Buffer is empty");o.buffer=e}else if(n.arrayBuffer(e)){if(0===e.byteLength)throw Error("Input bit Array is empty");o.buffer=Buffer.from(e,0,e.byteLength)}else if(n.typedArray(e)){if(0===e.length)throw Error("Input Bit Array is empty");o.buffer=Buffer.from(e.buffer,e.byteOffset,e.byteLength)}else if(n.plainObject(e)&&!n.defined(t))s(t=e)&&(o.buffer=[]);else{if(n.defined(e)||n.defined(t)||!n.object(i)||!i.allowStream)throw new Error(`Unsupported input '${e}' of type ${typeof e}${n.defined(t)?" when also providing options of type "+typeof t:""}`);o.buffer=[]}if(n.object(t)){if(n.defined(t.failOnError)){if(!n.bool(t.failOnError))throw n.invalidParameterError("failOnError","boolean",t.failOnError);o.failOn=t.failOnError?"warning":"none"}if(n.defined(t.failOn)){if(!n.string(t.failOn)||!n.inArray(t.failOn,["none","truncated","error","warning"]))throw n.invalidParameterError("failOn","one of: none, truncated, error, warning",t.failOn);o.failOn=t.failOn}if(n.defined(t.density)){if(!n.inRange(t.density,1,1e5))throw n.invalidParameterError("density","number between 1 and 100000",t.density);o.density=t.density}if(n.defined(t.ignoreIcc)){if(!n.bool(t.ignoreIcc))throw n.invalidParameterError("ignoreIcc","boolean",t.ignoreIcc);o.ignoreIcc=t.ignoreIcc}if(n.defined(t.limitInputPixels))if(n.bool(t.limitInputPixels))o.limitInputPixels=t.limitInputPixels?Math.pow(16383,2):0;else{if(!n.integer(t.limitInputPixels)||!n.inRange(t.limitInputPixels,0,Number.MAX_SAFE_INTEGER))throw n.invalidParameterError("limitInputPixels","positive integer",t.limitInputPixels);o.limitInputPixels=t.limitInputPixels}if(n.defined(t.unlimited)){if(!n.bool(t.unlimited))throw n.invalidParameterError("unlimited","boolean",t.unlimited);o.unlimited=t.unlimited}if(n.defined(t.sequentialRead)){if(!n.bool(t.sequentialRead))throw n.invalidParameterError("sequentialRead","boolean",t.sequentialRead);o.sequentialRead=t.sequentialRead}if(n.defined(t.raw)){if(!(n.object(t.raw)&&n.integer(t.raw.width)&&t.raw.width>0&&n.integer(t.raw.height)&&t.raw.height>0&&n.integer(t.raw.channels)&&n.inRange(t.raw.channels,1,4)))throw new Error("Expected width, height and channels for raw pixel input");switch(o.rawWidth=t.raw.width,o.rawHeight=t.raw.height,o.rawChannels=t.raw.channels,o.rawPremultiplied=!!t.raw.premultiplied,e.constructor){case Uint8Array:case Uint8ClampedArray:o.rawDepth="uchar";break;case Int8Array:o.rawDepth="char";break;case Uint16Array:o.rawDepth="ushort";break;case Int16Array:o.rawDepth="short";break;case Uint32Array:o.rawDepth="uint";break;case Int32Array:o.rawDepth="int";break;case Float32Array:o.rawDepth="float";break;case Float64Array:o.rawDepth="double";break;default:o.rawDepth="uchar"}}if(n.defined(t.animated)){if(!n.bool(t.animated))throw n.invalidParameterError("animated","boolean",t.animated);o.pages=t.animated?-1:1}if(n.defined(t.pages)){if(!n.integer(t.pages)||!n.inRange(t.pages,-1,1e5))throw n.invalidParameterError("pages","integer between -1 and 100000",t.pages);o.pages=t.pages}if(n.defined(t.page)){if(!n.integer(t.page)||!n.inRange(t.page,0,1e5))throw n.invalidParameterError("page","integer between 0 and 100000",t.page);o.page=t.page}if(n.defined(t.level)){if(!n.integer(t.level)||!n.inRange(t.level,0,256))throw n.invalidParameterError("level","integer between 0 and 256",t.level);o.level=t.level}if(n.defined(t.subifd)){if(!n.integer(t.subifd)||!n.inRange(t.subifd,-1,1e5))throw n.invalidParameterError("subifd","integer between -1 and 100000",t.subifd);o.subifd=t.subifd}if(n.defined(t.create)){if(!(n.object(t.create)&&n.integer(t.create.width)&&t.create.width>0&&n.integer(t.create.height)&&t.create.height>0&&n.integer(t.create.channels)))throw new Error("Expected valid width, height and channels to create a new input image");if(o.createWidth=t.create.width,o.createHeight=t.create.height,o.createChannels=t.create.channels,n.defined(t.create.noise)){if(!n.object(t.create.noise))throw new Error("Expected noise to be an object");if(!n.inArray(t.create.noise.type,["gaussian"]))throw new Error("Only gaussian noise is supported at the moment");if(!n.inRange(t.create.channels,1,4))throw n.invalidParameterError("create.channels","number between 1 and 4",t.create.channels);if(o.createNoiseType=t.create.noise.type,!n.number(t.create.noise.mean)||!n.inRange(t.create.noise.mean,0,1e4))throw n.invalidParameterError("create.noise.mean","number between 0 and 10000",t.create.noise.mean);if(o.createNoiseMean=t.create.noise.mean,!n.number(t.create.noise.sigma)||!n.inRange(t.create.noise.sigma,0,1e4))throw n.invalidParameterError("create.noise.sigma","number between 0 and 10000",t.create.noise.sigma);o.createNoiseSigma=t.create.noise.sigma}else{if(!n.defined(t.create.background))throw new Error("Expected valid noise or background to create a new input image");{if(!n.inRange(t.create.channels,3,4))throw n.invalidParameterError("create.channels","number between 3 and 4",t.create.channels);const e=r(t.create.background);o.createBackground=[e.red(),e.green(),e.blue(),Math.round(255*e.alpha())]}}delete o.buffer}if(n.defined(t.text)){if(!n.object(t.text)||!n.string(t.text.text))throw new Error("Expected a valid string to create an image with text.");if(o.textValue=t.text.text,n.defined(t.text.height)&&n.defined(t.text.dpi))throw new Error("Expected only one of dpi or height");if(n.defined(t.text.font)){if(!n.string(t.text.font))throw n.invalidParameterError("text.font","string",t.text.font);o.textFont=t.text.font}if(n.defined(t.text.fontfile)){if(!n.string(t.text.fontfile))throw n.invalidParameterError("text.fontfile","string",t.text.fontfile);o.textFontfile=t.text.fontfile}if(n.defined(t.text.width)){if(!(n.integer(t.text.width)&&t.text.width>0))throw n.invalidParameterError("text.width","positive integer",t.text.width);o.textWidth=t.text.width}if(n.defined(t.text.height)){if(!(n.integer(t.text.height)&&t.text.height>0))throw n.invalidParameterError("text.height","positive integer",t.text.height);o.textHeight=t.text.height}if(n.defined(t.text.align)){if(!n.string(t.text.align)||!n.string(this.constructor.align[t.text.align]))throw n.invalidParameterError("text.align","valid alignment",t.text.align);o.textAlign=this.constructor.align[t.text.align]}if(n.defined(t.text.justify)){if(!n.bool(t.text.justify))throw n.invalidParameterError("text.justify","boolean",t.text.justify);o.textJustify=t.text.justify}if(n.defined(t.text.dpi)){if(!n.integer(t.text.dpi)||!n.inRange(t.text.dpi,1,1e6))throw n.invalidParameterError("text.dpi","integer between 1 and 1000000",t.text.dpi);o.textDpi=t.text.dpi}if(n.defined(t.text.rgba)){if(!n.bool(t.text.rgba))throw n.invalidParameterError("text.rgba","bool",t.text.rgba);o.textRgba=t.text.rgba}if(n.defined(t.text.spacing)){if(!n.integer(t.text.spacing)||!n.inRange(t.text.spacing,-1e6,1e6))throw n.invalidParameterError("text.spacing","integer between -1000000 and 1000000",t.text.spacing);o.textSpacing=t.text.spacing}if(n.defined(t.text.wrap)){if(!n.string(t.text.wrap)||!n.inArray(t.text.wrap,["word","char","word-char","none"]))throw n.invalidParameterError("text.wrap","one of: word, char, word-char, none",t.text.wrap);o.textWrap=t.text.wrap}delete o.buffer}}else if(n.defined(t))throw new Error("Invalid input options "+t);return o}function h(e,t,i){Array.isArray(this.options.input.buffer)?n.buffer(e)?(0===this.options.input.buffer.length&&this.on("finish",(()=>{this.streamInFinished=!0})),this.options.input.buffer.push(e),i()):i(new Error("Non-Buffer data on Writable Stream")):i(new Error("Unexpected data on Writable Stream"))}function c(){this._isStreamInput()&&(this.options.input.buffer=Buffer.concat(this.options.input.buffer))}function p(){return Array.isArray(this.options.input.buffer)}function u(e){const t=Error();return n.fn(e)?(this._isStreamInput()?this.on("finish",(()=>{this._flattenBufferIn(),o.metadata(this.options,((i,r)=>{i?e(n.nativeError(i,t)):e(null,r)}))})):o.metadata(this.options,((i,r)=>{i?e(n.nativeError(i,t)):e(null,r)})),this):this._isStreamInput()?new Promise(((e,i)=>{const r=()=>{this._flattenBufferIn(),o.metadata(this.options,((r,o)=>{r?i(n.nativeError(r,t)):e(o)}))};this.writableFinished?r():this.once("finish",r)})):new Promise(((e,i)=>{o.metadata(this.options,((r,o)=>{r?i(n.nativeError(r,t)):e(o)}))}))}function d(e){const t=Error();return n.fn(e)?(this._isStreamInput()?this.on("finish",(()=>{this._flattenBufferIn(),o.stats(this.options,((i,r)=>{i?e(n.nativeError(i,t)):e(null,r)}))})):o.stats(this.options,((i,r)=>{i?e(n.nativeError(i,t)):e(null,r)})),this):this._isStreamInput()?new Promise(((e,i)=>{this.on("finish",(function(){this._flattenBufferIn(),o.stats(this.options,((r,o)=>{r?i(n.nativeError(r,t)):e(o)}))}))})):new Promise(((e,i)=>{o.stats(this.options,((r,o)=>{r?i(n.nativeError(r,t)):e(o)}))}))}e.exports=function(e){Object.assign(e.prototype,{_inputOptionsFromObject:s,_createInputDescriptor:l,_write:h,_flattenBufferIn:c,_isStreamInput:p,metadata:u,stats:d}),e.align=a}},5424:e=>{"use strict";const t=function(e){return null!=e};e.exports={defined:t,object:function(e){return"object"==typeof e},plainObject:function(e){return"[object Object]"===Object.prototype.toString.call(e)},fn:function(e){return"function"==typeof e},bool:function(e){return"boolean"==typeof e},buffer:function(e){return e instanceof Buffer},typedArray:function(e){if(t(e))switch(e.constructor){case Uint8Array:case Uint8ClampedArray:case Int8Array:case Uint16Array:case Int16Array:case Uint32Array:case Int32Array:case Float32Array:case Float64Array:return!0}return!1},arrayBuffer:function(e){return e instanceof ArrayBuffer},string:function(e){return"string"==typeof e&&e.length>0},number:function(e){return"number"==typeof e&&!Number.isNaN(e)},integer:function(e){return Number.isInteger(e)},inRange:function(e,t,i){return e>=t&&e<=i},inArray:function(e,t){return t.includes(e)},invalidParameterError:function(e,t,i){return new Error(`Expected ${t} for ${e} but received ${i} of type ${typeof i}`)},nativeError:function(e,t){return t.message=e.message,t}}},1313:(e,t,i)=>{"use strict";const{spawnSync:r}=i(1421),{createHash:n}=i(7598),o=i(6170),a=i(4089),s=i(7638),l=i(4647),{engines:h,optionalDependencies:c}=i(7816),p=process.env.npm_package_config_libvips||h.libvips,u=o(p).version,d={encoding:"utf8",shell:!0},f=e=>{e instanceof Error?console.error(`sharp: Installation error: ${e.message}`):console.log(`sharp: ${e}`)},m=()=>l.isNonGlibcLinuxSync()?l.familySync():"",g=()=>{if(b())return"wasm32";const{npm_config_arch:e,npm_config_platform:t,npm_config_libc:i}=process.env,r="string"==typeof i?i:m();return`${t||process.platform}${r}-${e||process.arch}`},b=()=>{const{CC:e}=process.env;return Boolean(e&&e.endsWith("/emcc"))},v=e=>n("sha512").update(e).digest("hex"),w=()=>"win32"!==process.platform?(r("pkg-config --modversion vips-cpp",{...d,env:{...process.env,PKG_CONFIG_PATH:E()}}).stdout||"").trim():"",E=()=>"win32"!==process.platform?[(r('which brew >/dev/null 2>&1 && brew environment --plain | grep PKG_CONFIG_LIBDIR | cut -d" " -f2',d).stdout||"").trim(),process.env.PKG_CONFIG_PATH,"/usr/local/lib/pkgconfig","/usr/lib/pkgconfig","/usr/local/libdata/pkgconfig","/usr/libdata/pkgconfig"].filter(Boolean).join(":"):"",y=(e,t)=>(f(`Detected ${t}, skipping search for globally-installed libvips`),e);e.exports={minimumLibvipsVersion:u,prebuiltPlatforms:["darwin-arm64","darwin-x64","linux-arm","linux-arm64","linux-s390x","linux-x64","linuxmusl-arm64","linuxmusl-x64","win32-ia32","win32-x64"],buildPlatformArch:g,buildSharpLibvipsIncludeDir:()=>{try{return i(1650)(`./sharp-libvips-dev-${g()}/include`)}catch{try{return i(Object(function(){var e=new Error("Cannot find module '@img/sharp-libvips-dev/include'");throw e.code="MODULE_NOT_FOUND",e}()))}catch{}}return""},buildSharpLibvipsCPlusPlusDir:()=>{try{return i(Object(function(){var e=new Error("Cannot find module '@img/sharp-libvips-dev/cplusplus'");throw e.code="MODULE_NOT_FOUND",e}()))}catch{}return""},buildSharpLibvipsLibDir:()=>{try{return i(5035)(`./sharp-libvips-dev-${g()}/lib`)}catch{try{return i(3527)(`./sharp-libvips-${g()}/lib`)}catch{}}return""},isUnsupportedNodeRuntime:()=>{if("node"===process.release?.name&&process.versions&&!s(process.versions.node,h.node))return{found:process.versions.node,expected:h.node}},runtimePlatformArch:()=>`${process.platform}${m()}-${process.arch}`,log:f,yarnLocator:()=>{try{const e=v(`imgsharp-libvips-${g()}`),t=o(c[`@img/sharp-libvips-${g()}`]).version;return v(`${e}npm:${t}`).slice(0,10)}catch{}return""},spawnRebuild:()=>r("node-gyp rebuild --directory=src "+(b()?"--nodedir=emscripten":""),{...d,stdio:"inherit"}).status,globalLibvipsVersion:w,pkgConfigPath:E,useGlobalLibvips:()=>{if(!0===Boolean(process.env.SHARP_IGNORE_GLOBAL_LIBVIPS))return y(!1,"SHARP_IGNORE_GLOBAL_LIBVIPS");if(!0===Boolean(process.env.SHARP_FORCE_GLOBAL_LIBVIPS))return y(!0,"SHARP_FORCE_GLOBAL_LIBVIPS");if("darwin"===process.platform&&"x64"===process.arch&&"sysctl.proc_translated: 1"===(r("sysctl sysctl.proc_translated",d).stdout||"").trim())return y(!1,"Rosetta");const e=w();return!!e&&a(e,u)}}},6491:(e,t,i)=>{"use strict";const r=i(2520),n=i(5424);function o(e,t){if((this.options.useExifOrientation||this.options.angle||this.options.rotationAngle)&&this.options.debuglog("ignoring previous rotate options"),n.defined(e))if(!n.integer(e)||e%90){if(!n.number(e))throw n.invalidParameterError("angle","numeric",e);if(this.options.rotationAngle=e,n.object(t)&&t.background){const e=r(t.background);this.options.rotationBackground=[e.red(),e.green(),e.blue(),Math.round(255*e.alpha())]}}else this.options.angle=e;else this.options.useExifOrientation=!0;return this}function a(e){return this.options.flip=!n.bool(e)||e,this}function s(e){return this.options.flop=!n.bool(e)||e,this}function l(e,t){const i=[].concat(...e);if(4!==i.length||!i.every(n.number))throw n.invalidParameterError("matrix","1x4 or 2x2 array",e);if(this.options.affineMatrix=i,n.defined(t)){if(!n.object(t))throw n.invalidParameterError("options","object",t);if(this._setBackgroundColourOption("affineBackground",t.background),n.defined(t.idx)){if(!n.number(t.idx))throw n.invalidParameterError("options.idx","number",t.idx);this.options.affineIdx=t.idx}if(n.defined(t.idy)){if(!n.number(t.idy))throw n.invalidParameterError("options.idy","number",t.idy);this.options.affineIdy=t.idy}if(n.defined(t.odx)){if(!n.number(t.odx))throw n.invalidParameterError("options.odx","number",t.odx);this.options.affineOdx=t.odx}if(n.defined(t.ody)){if(!n.number(t.ody))throw n.invalidParameterError("options.ody","number",t.ody);this.options.affineOdy=t.ody}if(n.defined(t.interpolator)){if(!n.inArray(t.interpolator,Object.values(this.constructor.interpolators)))throw n.invalidParameterError("options.interpolator","valid interpolator name",t.interpolator);this.options.affineInterpolator=t.interpolator}}return this}function h(e,t,i){if(n.defined(e))if(n.bool(e))this.options.sharpenSigma=e?-1:0;else if(n.number(e)&&n.inRange(e,.01,1e4)){if(this.options.sharpenSigma=e,n.defined(t)){if(!n.number(t)||!n.inRange(t,0,1e4))throw n.invalidParameterError("flat","number between 0 and 10000",t);this.options.sharpenM1=t}if(n.defined(i)){if(!n.number(i)||!n.inRange(i,0,1e4))throw n.invalidParameterError("jagged","number between 0 and 10000",i);this.options.sharpenM2=i}}else{if(!n.plainObject(e))throw n.invalidParameterError("sigma","number between 0.01 and 10000",e);if(!n.number(e.sigma)||!n.inRange(e.sigma,1e-6,10))throw n.invalidParameterError("options.sigma","number between 0.000001 and 10",e.sigma);if(this.options.sharpenSigma=e.sigma,n.defined(e.m1)){if(!n.number(e.m1)||!n.inRange(e.m1,0,1e6))throw n.invalidParameterError("options.m1","number between 0 and 1000000",e.m1);this.options.sharpenM1=e.m1}if(n.defined(e.m2)){if(!n.number(e.m2)||!n.inRange(e.m2,0,1e6))throw n.invalidParameterError("options.m2","number between 0 and 1000000",e.m2);this.options.sharpenM2=e.m2}if(n.defined(e.x1)){if(!n.number(e.x1)||!n.inRange(e.x1,0,1e6))throw n.invalidParameterError("options.x1","number between 0 and 1000000",e.x1);this.options.sharpenX1=e.x1}if(n.defined(e.y2)){if(!n.number(e.y2)||!n.inRange(e.y2,0,1e6))throw n.invalidParameterError("options.y2","number between 0 and 1000000",e.y2);this.options.sharpenY2=e.y2}if(n.defined(e.y3)){if(!n.number(e.y3)||!n.inRange(e.y3,0,1e6))throw n.invalidParameterError("options.y3","number between 0 and 1000000",e.y3);this.options.sharpenY3=e.y3}}else this.options.sharpenSigma=-1;return this}function c(e){if(n.defined(e)){if(!n.integer(e)||!n.inRange(e,1,1e3))throw n.invalidParameterError("size","integer between 1 and 1000",e);this.options.medianSize=e}else this.options.medianSize=3;return this}function p(e){if(n.defined(e))if(n.bool(e))this.options.blurSigma=e?-1:0;else{if(!n.number(e)||!n.inRange(e,.3,1e3))throw n.invalidParameterError("sigma","number between 0.3 and 1000",e);this.options.blurSigma=e}else this.options.blurSigma=-1;return this}function u(e){return this.options.flatten=!n.bool(e)||e,n.object(e)&&this._setBackgroundColourOption("flattenBackground",e.background),this}function d(){return this.options.unflatten=!0,this}function f(e,t){if(n.defined(e)){if(!n.number(e)||!n.inRange(e,1,3))throw n.invalidParameterError("gamma","number between 1.0 and 3.0",e);this.options.gamma=e}else this.options.gamma=2.2;if(n.defined(t)){if(!n.number(t)||!n.inRange(t,1,3))throw n.invalidParameterError("gammaOut","number between 1.0 and 3.0",t);this.options.gammaOut=t}else this.options.gammaOut=this.options.gamma;return this}function m(e){if(this.options.negate=!n.bool(e)||e,n.plainObject(e)&&"alpha"in e){if(!n.bool(e.alpha))throw n.invalidParameterError("alpha","should be boolean value",e.alpha);this.options.negateAlpha=e.alpha}return this}function g(e){if(n.plainObject(e)){if(n.defined(e.lower)){if(!n.number(e.lower)||!n.inRange(e.lower,0,99))throw n.invalidParameterError("lower","number between 0 and 99",e.lower);this.options.normaliseLower=e.lower}if(n.defined(e.upper)){if(!n.number(e.upper)||!n.inRange(e.upper,1,100))throw n.invalidParameterError("upper","number between 1 and 100",e.upper);this.options.normaliseUpper=e.upper}}if(this.options.normaliseLower>=this.options.normaliseUpper)throw n.invalidParameterError("range","lower to be less than upper",`${this.options.normaliseLower} >= ${this.options.normaliseUpper}`);return this.options.normalise=!0,this}function b(e){return this.normalise(e)}function v(e){if(!n.plainObject(e))throw n.invalidParameterError("options","plain object",e);if(!(n.integer(e.width)&&e.width>0))throw n.invalidParameterError("width","integer greater than zero",e.width);if(this.options.claheWidth=e.width,!(n.integer(e.height)&&e.height>0))throw n.invalidParameterError("height","integer greater than zero",e.height);if(this.options.claheHeight=e.height,n.defined(e.maxSlope)){if(!n.integer(e.maxSlope)||!n.inRange(e.maxSlope,0,100))throw n.invalidParameterError("maxSlope","integer between 0 and 100",e.maxSlope);this.options.claheMaxSlope=e.maxSlope}return this}function w(e){if(!(n.object(e)&&Array.isArray(e.kernel)&&n.integer(e.width)&&n.integer(e.height)&&n.inRange(e.width,3,1001)&&n.inRange(e.height,3,1001)&&e.height*e.width===e.kernel.length))throw new Error("Invalid convolution kernel");return n.integer(e.scale)||(e.scale=e.kernel.reduce((function(e,t){return e+t}),0)),e.scale<1&&(e.scale=1),n.integer(e.offset)||(e.offset=0),this.options.convKernel=e,this}function E(e,t){if(n.defined(e))if(n.bool(e))this.options.threshold=e?128:0;else{if(!n.integer(e)||!n.inRange(e,0,255))throw n.invalidParameterError("threshold","integer between 0 and 255",e);this.options.threshold=e}else this.options.threshold=128;return n.object(t)&&!0!==t.greyscale&&!0!==t.grayscale?this.options.thresholdGrayscale=!1:this.options.thresholdGrayscale=!0,this}function y(e,t,i){if(this.options.boolean=this._createInputDescriptor(e,i),!n.string(t)||!n.inArray(t,["and","or","eor"]))throw n.invalidParameterError("operator","one of: and, or, eor",t);return this.options.booleanOp=t,this}function x(e,t){if(!n.defined(e)&&n.number(t)?e=1:n.number(e)&&!n.defined(t)&&(t=0),n.defined(e))if(n.number(e))this.options.linearA=[e];else{if(!(Array.isArray(e)&&e.length&&e.every(n.number)))throw n.invalidParameterError("a","number or array of numbers",e);this.options.linearA=e}else this.options.linearA=[];if(n.defined(t))if(n.number(t))this.options.linearB=[t];else{if(!(Array.isArray(t)&&t.length&&t.every(n.number)))throw n.invalidParameterError("b","number or array of numbers",t);this.options.linearB=t}else this.options.linearB=[];if(this.options.linearA.length!==this.options.linearB.length)throw new Error("Expected a and b to be arrays of the same length");return this}function P(e){if(!Array.isArray(e)||3!==e.length||3!==e[0].length||3!==e[1].length||3!==e[2].length)throw new Error("Invalid recombination matrix");return this.options.recombMatrix=[e[0][0],e[0][1],e[0][2],e[1][0],e[1][1],e[1][2],e[2][0],e[2][1],e[2][2]].map(Number),this}function O(e){if(!n.plainObject(e))throw n.invalidParameterError("options","plain object",e);if("brightness"in e){if(!(n.number(e.brightness)&&e.brightness>=0))throw n.invalidParameterError("brightness","number above zero",e.brightness);this.options.brightness=e.brightness}if("saturation"in e){if(!(n.number(e.saturation)&&e.saturation>=0))throw n.invalidParameterError("saturation","number above zero",e.saturation);this.options.saturation=e.saturation}if("hue"in e){if(!n.integer(e.hue))throw n.invalidParameterError("hue","number",e.hue);this.options.hue=e.hue%360}if("lightness"in e){if(!n.number(e.lightness))throw n.invalidParameterError("lightness","number",e.lightness);this.options.lightness=e.lightness}return this}e.exports=function(e){Object.assign(e.prototype,{rotate:o,flip:a,flop:s,affine:l,sharpen:h,median:c,blur:p,flatten:u,unflatten:d,gamma:f,negate:m,normalise:g,normalize:b,clahe:v,convolve:w,threshold:E,boolean:y,linear:x,recomb:P,modulate:O})}},2837:(e,t,i)=>{"use strict";const r=i(6760),n=i(5424),o=i(9814),a=new Map([["heic","heif"],["heif","heif"],["avif","avif"],["jpeg","jpeg"],["jpg","jpeg"],["jpe","jpeg"],["tile","tile"],["dz","tile"],["png","png"],["raw","raw"],["tiff","tiff"],["tif","tiff"],["webp","webp"],["gif","gif"],["jp2","jp2"],["jpx","jp2"],["j2k","jp2"],["j2c","jp2"],["jxl","jxl"]]),s=/\.(jp[2x]|j2[kc])$/i,l=()=>new Error("JP2 output requires libvips with support for OpenJPEG"),h=e=>1<<31-Math.clz32(Math.ceil(Math.log2(e)));function c(e,t){let i;if(n.string(e)?n.string(this.options.input.file)&&r.resolve(this.options.input.file)===r.resolve(e)?i=new Error("Cannot use same file for input and output"):s.test(r.extname(e))&&!this.constructor.format.jp2k.output.file&&(i=l()):i=new Error("Missing output file path"),!i){this.options.fileOut=e;const i=Error();return this._pipeline(t,i)}return n.fn(t)?(t(i),this):Promise.reject(i)}function p(e,t){n.object(e)?this._setBooleanOption("resolveWithObject",e.resolveWithObject):this.options.resolveWithObject&&(this.options.resolveWithObject=!1),this.options.fileOut="";const i=Error();return this._pipeline(n.fn(e)?e:t,i)}function u(){return this.options.keepMetadata|=1,this}function d(e){if(!n.object(e))throw n.invalidParameterError("exif","object",e);for(const[t,i]of Object.entries(e)){if(!n.object(i))throw n.invalidParameterError(t,"object",i);for(const[e,r]of Object.entries(i)){if(!n.string(r))throw n.invalidParameterError(`${t}.${e}`,"string",r);this.options.withExif[`exif-${t.toLowerCase()}-${e}`]=r}}return this.options.withExifMerge=!1,this.keepExif()}function f(e){return this.withExif(e),this.options.withExifMerge=!0,this}function m(){return this.options.keepMetadata|=8,this}function g(e,t){if(!n.string(e))throw n.invalidParameterError("icc","string",e);if(this.options.withIccProfile=e,this.keepIccProfile(),n.object(t)&&n.defined(t.attach)){if(!n.bool(t.attach))throw n.invalidParameterError("attach","boolean",t.attach);t.attach||(this.options.keepMetadata&=-9)}return this}function b(){return this.options.keepMetadata=31,this}function v(e){if(this.keepMetadata(),this.withIccProfile("srgb"),n.object(e)){if(n.defined(e.orientation)){if(!n.integer(e.orientation)||!n.inRange(e.orientation,1,8))throw n.invalidParameterError("orientation","integer between 1 and 8",e.orientation);this.options.withMetadataOrientation=e.orientation}if(n.defined(e.density)){if(!(n.number(e.density)&&e.density>0))throw n.invalidParameterError("density","positive number",e.density);this.options.withMetadataDensity=e.density}n.defined(e.icc)&&this.withIccProfile(e.icc),n.defined(e.exif)&&this.withExifMerge(e.exif)}return this}function w(e,t){const i=a.get((n.object(e)&&n.string(e.id)?e.id:e).toLowerCase());if(!i)throw n.invalidParameterError("format",`one of: ${[...a.keys()].join(", ")}`,e);return this[i](t)}function E(e){if(n.object(e)){if(n.defined(e.quality)){if(!n.integer(e.quality)||!n.inRange(e.quality,1,100))throw n.invalidParameterError("quality","integer between 1 and 100",e.quality);this.options.jpegQuality=e.quality}if(n.defined(e.progressive)&&this._setBooleanOption("jpegProgressive",e.progressive),n.defined(e.chromaSubsampling)){if(!n.string(e.chromaSubsampling)||!n.inArray(e.chromaSubsampling,["4:2:0","4:4:4"]))throw n.invalidParameterError("chromaSubsampling","one of: 4:2:0, 4:4:4",e.chromaSubsampling);this.options.jpegChromaSubsampling=e.chromaSubsampling}const t=n.bool(e.optimizeCoding)?e.optimizeCoding:e.optimiseCoding;if(n.defined(t)&&this._setBooleanOption("jpegOptimiseCoding",t),n.defined(e.mozjpeg)){if(!n.bool(e.mozjpeg))throw n.invalidParameterError("mozjpeg","boolean",e.mozjpeg);e.mozjpeg&&(this.options.jpegTrellisQuantisation=!0,this.options.jpegOvershootDeringing=!0,this.options.jpegOptimiseScans=!0,this.options.jpegProgressive=!0,this.options.jpegQuantisationTable=3)}const i=n.bool(e.trellisQuantization)?e.trellisQuantization:e.trellisQuantisation;n.defined(i)&&this._setBooleanOption("jpegTrellisQuantisation",i),n.defined(e.overshootDeringing)&&this._setBooleanOption("jpegOvershootDeringing",e.overshootDeringing);const r=n.bool(e.optimizeScans)?e.optimizeScans:e.optimiseScans;n.defined(r)&&(this._setBooleanOption("jpegOptimiseScans",r),r&&(this.options.jpegProgressive=!0));const o=n.number(e.quantizationTable)?e.quantizationTable:e.quantisationTable;if(n.defined(o)){if(!n.integer(o)||!n.inRange(o,0,8))throw n.invalidParameterError("quantisationTable","integer between 0 and 8",o);this.options.jpegQuantisationTable=o}}return this._updateFormatOut("jpeg",e)}function y(e){if(n.object(e)){if(n.defined(e.progressive)&&this._setBooleanOption("pngProgressive",e.progressive),n.defined(e.compressionLevel)){if(!n.integer(e.compressionLevel)||!n.inRange(e.compressionLevel,0,9))throw n.invalidParameterError("compressionLevel","integer between 0 and 9",e.compressionLevel);this.options.pngCompressionLevel=e.compressionLevel}n.defined(e.adaptiveFiltering)&&this._setBooleanOption("pngAdaptiveFiltering",e.adaptiveFiltering);const t=e.colours||e.colors;if(n.defined(t)){if(!n.integer(t)||!n.inRange(t,2,256))throw n.invalidParameterError("colours","integer between 2 and 256",t);this.options.pngBitdepth=h(t)}if(n.defined(e.palette)?this._setBooleanOption("pngPalette",e.palette):[e.quality,e.effort,e.colours,e.colors,e.dither].some(n.defined)&&this._setBooleanOption("pngPalette",!0),this.options.pngPalette){if(n.defined(e.quality)){if(!n.integer(e.quality)||!n.inRange(e.quality,0,100))throw n.invalidParameterError("quality","integer between 0 and 100",e.quality);this.options.pngQuality=e.quality}if(n.defined(e.effort)){if(!n.integer(e.effort)||!n.inRange(e.effort,1,10))throw n.invalidParameterError("effort","integer between 1 and 10",e.effort);this.options.pngEffort=e.effort}if(n.defined(e.dither)){if(!n.number(e.dither)||!n.inRange(e.dither,0,1))throw n.invalidParameterError("dither","number between 0.0 and 1.0",e.dither);this.options.pngDither=e.dither}}}return this._updateFormatOut("png",e)}function x(e){if(n.object(e)){if(n.defined(e.quality)){if(!n.integer(e.quality)||!n.inRange(e.quality,1,100))throw n.invalidParameterError("quality","integer between 1 and 100",e.quality);this.options.webpQuality=e.quality}if(n.defined(e.alphaQuality)){if(!n.integer(e.alphaQuality)||!n.inRange(e.alphaQuality,0,100))throw n.invalidParameterError("alphaQuality","integer between 0 and 100",e.alphaQuality);this.options.webpAlphaQuality=e.alphaQuality}if(n.defined(e.lossless)&&this._setBooleanOption("webpLossless",e.lossless),n.defined(e.nearLossless)&&this._setBooleanOption("webpNearLossless",e.nearLossless),n.defined(e.smartSubsample)&&this._setBooleanOption("webpSmartSubsample",e.smartSubsample),n.defined(e.preset)){if(!n.string(e.preset)||!n.inArray(e.preset,["default","photo","picture","drawing","icon","text"]))throw n.invalidParameterError("preset","one of: default, photo, picture, drawing, icon, text",e.preset);this.options.webpPreset=e.preset}if(n.defined(e.effort)){if(!n.integer(e.effort)||!n.inRange(e.effort,0,6))throw n.invalidParameterError("effort","integer between 0 and 6",e.effort);this.options.webpEffort=e.effort}n.defined(e.minSize)&&this._setBooleanOption("webpMinSize",e.minSize),n.defined(e.mixed)&&this._setBooleanOption("webpMixed",e.mixed)}return R(e,this.options),this._updateFormatOut("webp",e)}function P(e){if(n.object(e)){n.defined(e.reuse)&&this._setBooleanOption("gifReuse",e.reuse),n.defined(e.progressive)&&this._setBooleanOption("gifProgressive",e.progressive);const t=e.colours||e.colors;if(n.defined(t)){if(!n.integer(t)||!n.inRange(t,2,256))throw n.invalidParameterError("colours","integer between 2 and 256",t);this.options.gifBitdepth=h(t)}if(n.defined(e.effort)){if(!n.number(e.effort)||!n.inRange(e.effort,1,10))throw n.invalidParameterError("effort","integer between 1 and 10",e.effort);this.options.gifEffort=e.effort}if(n.defined(e.dither)){if(!n.number(e.dither)||!n.inRange(e.dither,0,1))throw n.invalidParameterError("dither","number between 0.0 and 1.0",e.dither);this.options.gifDither=e.dither}if(n.defined(e.interFrameMaxError)){if(!n.number(e.interFrameMaxError)||!n.inRange(e.interFrameMaxError,0,32))throw n.invalidParameterError("interFrameMaxError","number between 0.0 and 32.0",e.interFrameMaxError);this.options.gifInterFrameMaxError=e.interFrameMaxError}if(n.defined(e.interPaletteMaxError)){if(!n.number(e.interPaletteMaxError)||!n.inRange(e.interPaletteMaxError,0,256))throw n.invalidParameterError("interPaletteMaxError","number between 0.0 and 256.0",e.interPaletteMaxError);this.options.gifInterPaletteMaxError=e.interPaletteMaxError}}return R(e,this.options),this._updateFormatOut("gif",e)}function O(e){if(!this.constructor.format.jp2k.output.buffer)throw l();if(n.object(e)){if(n.defined(e.quality)){if(!n.integer(e.quality)||!n.inRange(e.quality,1,100))throw n.invalidParameterError("quality","integer between 1 and 100",e.quality);this.options.jp2Quality=e.quality}if(n.defined(e.lossless)){if(!n.bool(e.lossless))throw n.invalidParameterError("lossless","boolean",e.lossless);this.options.jp2Lossless=e.lossless}if(n.defined(e.tileWidth)){if(!n.integer(e.tileWidth)||!n.inRange(e.tileWidth,1,32768))throw n.invalidParameterError("tileWidth","integer between 1 and 32768",e.tileWidth);this.options.jp2TileWidth=e.tileWidth}if(n.defined(e.tileHeight)){if(!n.integer(e.tileHeight)||!n.inRange(e.tileHeight,1,32768))throw n.invalidParameterError("tileHeight","integer between 1 and 32768",e.tileHeight);this.options.jp2TileHeight=e.tileHeight}if(n.defined(e.chromaSubsampling)){if(!n.string(e.chromaSubsampling)||!n.inArray(e.chromaSubsampling,["4:2:0","4:4:4"]))throw n.invalidParameterError("chromaSubsampling","one of: 4:2:0, 4:4:4",e.chromaSubsampling);this.options.jp2ChromaSubsampling=e.chromaSubsampling}}return this._updateFormatOut("jp2",e)}function R(e,t){if(n.object(e)&&n.defined(e.loop)){if(!n.integer(e.loop)||!n.inRange(e.loop,0,65535))throw n.invalidParameterError("loop","integer between 0 and 65535",e.loop);t.loop=e.loop}if(n.object(e)&&n.defined(e.delay))if(n.integer(e.delay)&&n.inRange(e.delay,0,65535))t.delay=[e.delay];else{if(!(Array.isArray(e.delay)&&e.delay.every(n.integer)&&e.delay.every((e=>n.inRange(e,0,65535)))))throw n.invalidParameterError("delay","integer or an array of integers between 0 and 65535",e.delay);t.delay=e.delay}}function I(e){if(n.object(e)){if(n.defined(e.quality)){if(!n.integer(e.quality)||!n.inRange(e.quality,1,100))throw n.invalidParameterError("quality","integer between 1 and 100",e.quality);this.options.tiffQuality=e.quality}if(n.defined(e.bitdepth)){if(!n.integer(e.bitdepth)||!n.inArray(e.bitdepth,[1,2,4,8]))throw n.invalidParameterError("bitdepth","1, 2, 4 or 8",e.bitdepth);this.options.tiffBitdepth=e.bitdepth}if(n.defined(e.tile)&&this._setBooleanOption("tiffTile",e.tile),n.defined(e.tileWidth)){if(!(n.integer(e.tileWidth)&&e.tileWidth>0))throw n.invalidParameterError("tileWidth","integer greater than zero",e.tileWidth);this.options.tiffTileWidth=e.tileWidth}if(n.defined(e.tileHeight)){if(!(n.integer(e.tileHeight)&&e.tileHeight>0))throw n.invalidParameterError("tileHeight","integer greater than zero",e.tileHeight);this.options.tiffTileHeight=e.tileHeight}if(n.defined(e.miniswhite)&&this._setBooleanOption("tiffMiniswhite",e.miniswhite),n.defined(e.pyramid)&&this._setBooleanOption("tiffPyramid",e.pyramid),n.defined(e.xres)){if(!(n.number(e.xres)&&e.xres>0))throw n.invalidParameterError("xres","number greater than zero",e.xres);this.options.tiffXres=e.xres}if(n.defined(e.yres)){if(!(n.number(e.yres)&&e.yres>0))throw n.invalidParameterError("yres","number greater than zero",e.yres);this.options.tiffYres=e.yres}if(n.defined(e.compression)){if(!n.string(e.compression)||!n.inArray(e.compression,["none","jpeg","deflate","packbits","ccittfax4","lzw","webp","zstd","jp2k"]))throw n.invalidParameterError("compression","one of: none, jpeg, deflate, packbits, ccittfax4, lzw, webp, zstd, jp2k",e.compression);this.options.tiffCompression=e.compression}if(n.defined(e.predictor)){if(!n.string(e.predictor)||!n.inArray(e.predictor,["none","horizontal","float"]))throw n.invalidParameterError("predictor","one of: none, horizontal, float",e.predictor);this.options.tiffPredictor=e.predictor}if(n.defined(e.resolutionUnit)){if(!n.string(e.resolutionUnit)||!n.inArray(e.resolutionUnit,["inch","cm"]))throw n.invalidParameterError("resolutionUnit","one of: inch, cm",e.resolutionUnit);this.options.tiffResolutionUnit=e.resolutionUnit}}return this._updateFormatOut("tiff",e)}function j(e){return this.heif({...e,compression:"av1"})}function A(e){if(!n.object(e))throw n.invalidParameterError("options","Object",e);if(!n.string(e.compression)||!n.inArray(e.compression,["av1","hevc"]))throw n.invalidParameterError("compression","one of: av1, hevc",e.compression);if(this.options.heifCompression=e.compression,n.defined(e.quality)){if(!n.integer(e.quality)||!n.inRange(e.quality,1,100))throw n.invalidParameterError("quality","integer between 1 and 100",e.quality);this.options.heifQuality=e.quality}if(n.defined(e.lossless)){if(!n.bool(e.lossless))throw n.invalidParameterError("lossless","boolean",e.lossless);this.options.heifLossless=e.lossless}if(n.defined(e.effort)){if(!n.integer(e.effort)||!n.inRange(e.effort,0,9))throw n.invalidParameterError("effort","integer between 0 and 9",e.effort);this.options.heifEffort=e.effort}if(n.defined(e.chromaSubsampling)){if(!n.string(e.chromaSubsampling)||!n.inArray(e.chromaSubsampling,["4:2:0","4:4:4"]))throw n.invalidParameterError("chromaSubsampling","one of: 4:2:0, 4:4:4",e.chromaSubsampling);this.options.heifChromaSubsampling=e.chromaSubsampling}if(n.defined(e.bitdepth)){if(!n.integer(e.bitdepth)||!n.inArray(e.bitdepth,[8,10,12]))throw n.invalidParameterError("bitdepth","8, 10 or 12",e.bitdepth);if(8!==e.bitdepth&&this.constructor.versions.heif)throw n.invalidParameterError("bitdepth when using prebuilt binaries",8,e.bitdepth);this.options.heifBitdepth=e.bitdepth}return this._updateFormatOut("heif",e)}function k(e){if(n.object(e)){if(n.defined(e.quality)){if(!n.integer(e.quality)||!n.inRange(e.quality,1,100))throw n.invalidParameterError("quality","integer between 1 and 100",e.quality);this.options.jxlDistance=e.quality>=30?.1+.09*(100-e.quality):53/3e3*e.quality*e.quality-1.15*e.quality+25}else if(n.defined(e.distance)){if(!n.number(e.distance)||!n.inRange(e.distance,0,15))throw n.invalidParameterError("distance","number between 0.0 and 15.0",e.distance);this.options.jxlDistance=e.distance}if(n.defined(e.decodingTier)){if(!n.integer(e.decodingTier)||!n.inRange(e.decodingTier,0,4))throw n.invalidParameterError("decodingTier","integer between 0 and 4",e.decodingTier);this.options.jxlDecodingTier=e.decodingTier}if(n.defined(e.lossless)){if(!n.bool(e.lossless))throw n.invalidParameterError("lossless","boolean",e.lossless);this.options.jxlLossless=e.lossless}if(n.defined(e.effort)){if(!n.integer(e.effort)||!n.inRange(e.effort,3,9))throw n.invalidParameterError("effort","integer between 3 and 9",e.effort);this.options.jxlEffort=e.effort}}return this._updateFormatOut("jxl",e)}function $(e){if(n.object(e)&&n.defined(e.depth)){if(!n.string(e.depth)||!n.inArray(e.depth,["char","uchar","short","ushort","int","uint","float","complex","double","dpcomplex"]))throw n.invalidParameterError("depth","one of: char, uchar, short, ushort, int, uint, float, complex, double, dpcomplex",e.depth);this.options.rawDepth=e.depth}return this._updateFormatOut("raw")}function L(e){if(n.object(e)){if(n.defined(e.size)){if(!n.integer(e.size)||!n.inRange(e.size,1,8192))throw n.invalidParameterError("size","integer between 1 and 8192",e.size);this.options.tileSize=e.size}if(n.defined(e.overlap)){if(!n.integer(e.overlap)||!n.inRange(e.overlap,0,8192))throw n.invalidParameterError("overlap","integer between 0 and 8192",e.overlap);if(e.overlap>this.options.tileSize)throw n.invalidParameterError("overlap",`<= size (${this.options.tileSize})`,e.overlap);this.options.tileOverlap=e.overlap}if(n.defined(e.container)){if(!n.string(e.container)||!n.inArray(e.container,["fs","zip"]))throw n.invalidParameterError("container","one of: fs, zip",e.container);this.options.tileContainer=e.container}if(n.defined(e.layout)){if(!n.string(e.layout)||!n.inArray(e.layout,["dz","google","iiif","iiif3","zoomify"]))throw n.invalidParameterError("layout","one of: dz, google, iiif, iiif3, zoomify",e.layout);this.options.tileLayout=e.layout}if(n.defined(e.angle)){if(!n.integer(e.angle)||e.angle%90)throw n.invalidParameterError("angle","positive/negative multiple of 90",e.angle);this.options.tileAngle=e.angle}if(this._setBackgroundColourOption("tileBackground",e.background),n.defined(e.depth)){if(!n.string(e.depth)||!n.inArray(e.depth,["onepixel","onetile","one"]))throw n.invalidParameterError("depth","one of: onepixel, onetile, one",e.depth);this.options.tileDepth=e.depth}if(n.defined(e.skipBlanks)){if(!n.integer(e.skipBlanks)||!n.inRange(e.skipBlanks,-1,65535))throw n.invalidParameterError("skipBlanks","integer between -1 and 255/65535",e.skipBlanks);this.options.tileSkipBlanks=e.skipBlanks}else n.defined(e.layout)&&"google"===e.layout&&(this.options.tileSkipBlanks=5);const t=n.bool(e.center)?e.center:e.centre;if(n.defined(t)&&this._setBooleanOption("tileCentre",t),n.defined(e.id)){if(!n.string(e.id))throw n.invalidParameterError("id","string",e.id);this.options.tileId=e.id}if(n.defined(e.basename)){if(!n.string(e.basename))throw n.invalidParameterError("basename","string",e.basename);this.options.tileBasename=e.basename}}if(n.inArray(this.options.formatOut,["jpeg","png","webp"]))this.options.tileFormat=this.options.formatOut;else if("input"!==this.options.formatOut)throw n.invalidParameterError("format","one of: jpeg, png, webp",this.options.formatOut);return this._updateFormatOut("dz")}function S(e){if(!n.plainObject(e))throw n.invalidParameterError("options","object",e);if(!n.integer(e.seconds)||!n.inRange(e.seconds,0,3600))throw n.invalidParameterError("seconds","integer between 0 and 3600",e.seconds);return this.options.timeoutSeconds=e.seconds,this}function N(e,t){return n.object(t)&&!1===t.force||(this.options.formatOut=e),this}function M(e,t){if(!n.bool(t))throw n.invalidParameterError(e,"boolean",t);this.options[e]=t}function _(){if(!this.options.streamOut){this.options.streamOut=!0;const e=Error();this._pipeline(void 0,e)}}function T(e,t){return"function"==typeof e?(this._isStreamInput()?this.on("finish",(()=>{this._flattenBufferIn(),o.pipeline(this.options,((i,r,o)=>{i?e(n.nativeError(i,t)):e(null,r,o)}))})):o.pipeline(this.options,((i,r,o)=>{i?e(n.nativeError(i,t)):e(null,r,o)})),this):this.options.streamOut?(this._isStreamInput()?(this.once("finish",(()=>{this._flattenBufferIn(),o.pipeline(this.options,((e,i,r)=>{e?this.emit("error",n.nativeError(e,t)):(this.emit("info",r),this.push(i)),this.push(null),this.on("end",(()=>this.emit("close")))}))})),this.streamInFinished&&this.emit("finish")):o.pipeline(this.options,((e,i,r)=>{e?this.emit("error",n.nativeError(e,t)):(this.emit("info",r),this.push(i)),this.push(null),this.on("end",(()=>this.emit("close")))})),this):this._isStreamInput()?new Promise(((e,i)=>{this.once("finish",(()=>{this._flattenBufferIn(),o.pipeline(this.options,((r,o,a)=>{r?i(n.nativeError(r,t)):this.options.resolveWithObject?e({data:o,info:a}):e(o)}))}))})):new Promise(((e,i)=>{o.pipeline(this.options,((r,o,a)=>{r?i(n.nativeError(r,t)):this.options.resolveWithObject?e({data:o,info:a}):e(o)}))}))}e.exports=function(e){Object.assign(e.prototype,{toFile:c,toBuffer:p,keepExif:u,withExif:d,withExifMerge:f,keepIccProfile:m,withIccProfile:g,keepMetadata:b,withMetadata:v,toFormat:w,jpeg:E,jp2:O,png:y,webp:x,tiff:I,avif:j,heif:A,jxl:k,gif:P,raw:$,tile:L,timeout:S,_updateFormatOut:N,_setBooleanOption:M,_read:_,_pipeline:T})}},9212:(e,t,i)=>{"use strict";const r=i(5424),n={center:0,centre:0,north:1,east:2,south:3,west:4,northeast:5,southeast:6,southwest:7,northwest:8},o={top:1,right:2,bottom:3,left:4,"right top":5,"right bottom":6,"left bottom":7,"left top":8},a={background:"background",copy:"copy",repeat:"repeat",mirror:"mirror"},s={entropy:16,attention:17},l={nearest:"nearest",linear:"linear",cubic:"cubic",mitchell:"mitchell",lanczos2:"lanczos2",lanczos3:"lanczos3"},h={contain:"contain",cover:"cover",fill:"fill",inside:"inside",outside:"outside"},c={contain:"embed",cover:"crop",fill:"ignore_aspect",inside:"max",outside:"min"};function p(e){return e.angle%360!=0||!0===e.useExifOrientation||0!==e.rotationAngle}function u(e){return-1!==e.width||-1!==e.height}function d(e,t,i){if(u(this.options)&&this.options.debuglog("ignoring previous resize options"),-1!==this.options.widthPost&&this.options.debuglog("operation order will be: extract, resize, extract"),r.defined(e))if(r.object(e)&&!r.defined(i))i=e;else{if(!(r.integer(e)&&e>0))throw r.invalidParameterError("width","positive integer",e);this.options.width=e}else this.options.width=-1;if(r.defined(t)){if(!(r.integer(t)&&t>0))throw r.invalidParameterError("height","positive integer",t);this.options.height=t}else this.options.height=-1;if(r.object(i)){if(r.defined(i.width)){if(!(r.integer(i.width)&&i.width>0))throw r.invalidParameterError("width","positive integer",i.width);this.options.width=i.width}if(r.defined(i.height)){if(!(r.integer(i.height)&&i.height>0))throw r.invalidParameterError("height","positive integer",i.height);this.options.height=i.height}if(r.defined(i.fit)){const e=c[i.fit];if(!r.string(e))throw r.invalidParameterError("fit","valid fit",i.fit);this.options.canvas=e}if(r.defined(i.position)){const e=r.integer(i.position)?i.position:s[i.position]||o[i.position]||n[i.position];if(!r.integer(e)||!r.inRange(e,0,8)&&!r.inRange(e,16,17))throw r.invalidParameterError("position","valid position/gravity/strategy",i.position);this.options.position=e}if(this._setBackgroundColourOption("resizeBackground",i.background),r.defined(i.kernel)){if(!r.string(l[i.kernel]))throw r.invalidParameterError("kernel","valid kernel name",i.kernel);this.options.kernel=l[i.kernel]}r.defined(i.withoutEnlargement)&&this._setBooleanOption("withoutEnlargement",i.withoutEnlargement),r.defined(i.withoutReduction)&&this._setBooleanOption("withoutReduction",i.withoutReduction),r.defined(i.fastShrinkOnLoad)&&this._setBooleanOption("fastShrinkOnLoad",i.fastShrinkOnLoad)}return p(this.options)&&u(this.options)&&(this.options.rotateBeforePreExtract=!0),this}function f(e){if(r.integer(e)&&e>0)this.options.extendTop=e,this.options.extendBottom=e,this.options.extendLeft=e,this.options.extendRight=e;else{if(!r.object(e))throw r.invalidParameterError("extend","integer or object",e);if(r.defined(e.top)){if(!(r.integer(e.top)&&e.top>=0))throw r.invalidParameterError("top","positive integer",e.top);this.options.extendTop=e.top}if(r.defined(e.bottom)){if(!(r.integer(e.bottom)&&e.bottom>=0))throw r.invalidParameterError("bottom","positive integer",e.bottom);this.options.extendBottom=e.bottom}if(r.defined(e.left)){if(!(r.integer(e.left)&&e.left>=0))throw r.invalidParameterError("left","positive integer",e.left);this.options.extendLeft=e.left}if(r.defined(e.right)){if(!(r.integer(e.right)&&e.right>=0))throw r.invalidParameterError("right","positive integer",e.right);this.options.extendRight=e.right}if(this._setBackgroundColourOption("extendBackground",e.background),r.defined(e.extendWith)){if(!r.string(a[e.extendWith]))throw r.invalidParameterError("extendWith","one of: background, copy, repeat, mirror",e.extendWith);this.options.extendWith=a[e.extendWith]}}return this}function m(e){const t=u(this.options)||-1!==this.options.widthPre?"Post":"Pre";return-1!==this.options[`width${t}`]&&this.options.debuglog("ignoring previous extract options"),["left","top","width","height"].forEach((function(i){const n=e[i];if(!(r.integer(n)&&n>=0))throw r.invalidParameterError(i,"integer",n);this.options[i+("left"===i||"top"===i?"Offset":"")+t]=n}),this),p(this.options)&&!u(this.options)&&(-1!==this.options.widthPre&&-1!==this.options.widthPost||(this.options.rotateBeforePreExtract=!0)),this}function g(e){if(this.options.trimThreshold=10,r.defined(e)){if(!r.object(e))throw r.invalidParameterError("trim","object",e);if(r.defined(e.background)&&this._setBackgroundColourOption("trimBackground",e.background),r.defined(e.threshold)){if(!(r.number(e.threshold)&&e.threshold>=0))throw r.invalidParameterError("threshold","positive number",e.threshold);this.options.trimThreshold=e.threshold}r.defined(e.lineArt)&&this._setBooleanOption("trimLineArt",e.lineArt)}return p(this.options)&&(this.options.rotateBeforePreExtract=!0),this}e.exports=function(e){Object.assign(e.prototype,{resize:d,extend:f,extract:m,trim:g}),e.gravity=n,e.strategy=s,e.kernel=l,e.fit=h,e.position=o}},9814:(e,t,i)=>{"use strict";const{familySync:r,versionSync:n}=i(4647),{runtimePlatformArch:o,isUnsupportedNodeRuntime:a,prebuiltPlatforms:s,minimumLibvipsVersion:l}=i(1313),h=o(),c=[`../src/build/Release/sharp-${h}.node`,"../src/build/Release/sharp-wasm32.node",`@img/sharp-${h}/sharp.node`,"@img/sharp-wasm32/sharp.node"];let p;const u=[];for(const e of c)try{p=i(8678)(e);break}catch(e){u.push(e)}if(!p){const[e,t,o]=["linux","darwin","win32"].map((e=>h.startsWith(e))),c=[`Could not load the "sharp" module using the ${h} runtime`];u.forEach((e=>{"MODULE_NOT_FOUND"!==e.code&&c.push(`${e.code}: ${e.message}`)}));const p=u.map((e=>e.message)).join(" ");if(c.push("Possible solutions:"),a()){const{found:e,expected:t}=a();c.push("- Please upgrade Node.js:",`    Found ${e}`,`    Requires ${t}`)}else if(s.includes(h)){const[e,t]=h.split("-"),i=e.endsWith("musl")?" --libc=musl":"";c.push("- Ensure optional dependencies can be installed:","    npm install --include=optional sharp","    yarn add sharp --ignore-engines","- Ensure your package manager supports multi-platform installation:","    See https://sharp.pixelplumbing.com/install#cross-platform","- Add platform-specific dependencies:",`    npm install --os=${e.replace("musl","")}${i} --cpu=${t} sharp`)}else c.push(`- Manually install libvips >= ${l}`,"- Add experimental WebAssembly-based dependencies:","    npm install --cpu=wasm32 sharp","    npm install @img/sharp-wasm32");if(e&&/(symbol not found|CXXABI_)/i.test(p))try{const{engines:e}=i(7418)(`./sharp-libvips-${h}/package`),t=`${r()} ${n()}`,o=`${e.musl?"musl":"glibc"} ${e.musl||e.glibc}`;c.push("- Update your OS:",`    Found ${t}`,`    Requires ${o}`)}catch(e){}throw e&&/\/snap\/core[0-9]{2}/.test(p)&&c.push("- Remove the Node.js Snap, which does not support native modules","    snap remove node"),t&&/Incompatible library version/.test(p)&&c.push("- Update Homebrew:","    brew update && brew upgrade vips"),u.some((e=>"ERR_DLOPEN_DISABLED"===e.code))&&c.push("- Run Node.js without using the --no-addons flag"),o&&/The specified procedure could not be found/.test(p)&&c.push("- Using the canvas package on Windows?","    See https://sharp.pixelplumbing.com/install#canvas-and-windows","- Check for outdated versions of sharp in the dependency tree:","    npm ls sharp"),c.push("- Consult the installation documentation:","    See https://sharp.pixelplumbing.com/install"),new Error(c.join("\n"))}e.exports=p},8398:(e,t,i)=>{"use strict";const r=i(8474),n=i(4647),o=i(5424),{runtimePlatformArch:a}=i(1313),s=i(9814),l=a(),h=s.libvipsVersion(),c=s.format();c.heif.output.alias=["avif","heic"],c.jpeg.output.alias=["jpe","jpg"],c.tiff.output.alias=["tif"],c.jp2k.output.alias=["j2c","j2k","jp2","jpx"];const p={nearest:"nearest",bilinear:"bilinear",bicubic:"bicubic",locallyBoundedBicubic:"lbb",nohalo:"nohalo",vertexSplitQuadraticBasisSpline:"vsqbs"};let u={vips:h.semver};if(!h.isGlobal)if(h.isWasm)try{u=i(Object(function(){var e=new Error("Cannot find module '@img/sharp-wasm32/versions'");throw e.code="MODULE_NOT_FOUND",e}()))}catch(e){}else try{u=i(7695)(`./sharp-${l}/versions`)}catch(e){try{u=i(8503)(`./sharp-libvips-${l}/versions`)}catch(e){}}function d(e){return o.bool(e)?e?s.cache(50,20,100):s.cache(0,0,0):o.object(e)?s.cache(e.memory,e.files,e.items):s.cache()}function f(e){return s.concurrency(o.integer(e)?e:null)}u.sharp=i(7816).version,d(!0),n.familySync()!==n.GLIBC||s._isUsingJemalloc()?n.familySync()===n.MUSL&&1024===s.concurrency()&&s.concurrency(i(8161).availableParallelism()):s.concurrency(1);const m=new r.EventEmitter;function g(){return s.counters()}function b(e){return s.simd(o.bool(e)?e:null)}function v(e){if(!o.object(e))throw o.invalidParameterError("options","object",e);if(!Array.isArray(e.operation)||!e.operation.every(o.string))throw o.invalidParameterError("operation","Array<string>",e.operation);s.block(e.operation,!0)}function w(e){if(!o.object(e))throw o.invalidParameterError("options","object",e);if(!Array.isArray(e.operation)||!e.operation.every(o.string))throw o.invalidParameterError("operation","Array<string>",e.operation);s.block(e.operation,!1)}e.exports=function(e){e.cache=d,e.concurrency=f,e.counters=g,e.simd=b,e.format=c,e.interpolators=p,e.versions=u,e.queue=m,e.block=v,e.unblock=w}},7816:e=>{"use strict";e.exports=JSON.parse('{"name":"sharp","description":"High performance Node.js image processing, the fastest module to resize JPEG, PNG, WebP, GIF, AVIF and TIFF images","version":"0.33.4","author":"Lovell Fuller <npm@lovell.info>","homepage":"https://sharp.pixelplumbing.com","contributors":["Pierre Inglebert <pierre.inglebert@gmail.com>","Jonathan Ong <jonathanrichardong@gmail.com>","Chanon Sajjamanochai <chanon.s@gmail.com>","Juliano Julio <julianojulio@gmail.com>","Daniel Gasienica <daniel@gasienica.ch>","Julian Walker <julian@fiftythree.com>","Amit Pitaru <pitaru.amit@gmail.com>","Brandon Aaron <hello.brandon@aaron.sh>","Andreas Lind <andreas@one.com>","Maurus Cuelenaere <mcuelenaere@gmail.com>","Linus Unnebäck <linus@folkdatorn.se>","Victor Mateevitsi <mvictoras@gmail.com>","Alaric Holloway <alaric.holloway@gmail.com>","Bernhard K. Weisshuhn <bkw@codingforce.com>","Chris Riley <criley@primedia.com>","David Carley <dacarley@gmail.com>","John Tobin <john@limelightmobileinc.com>","Kenton Gray <kentongray@gmail.com>","Felix Bünemann <Felix.Buenemann@gmail.com>","Samy Al Zahrani <samyalzahrany@gmail.com>","Chintan Thakkar <lemnisk8@gmail.com>","F. Orlando Galashan <frulo@gmx.de>","Kleis Auke Wolthuizen <info@kleisauke.nl>","Matt Hirsch <mhirsch@media.mit.edu>","Matthias Thoemmes <thoemmes@gmail.com>","Patrick Paskaris <patrick@paskaris.gr>","Jérémy Lal <kapouer@melix.org>","Rahul Nanwani <r.nanwani@gmail.com>","Alice Monday <alice0meta@gmail.com>","Kristo Jorgenson <kristo.jorgenson@gmail.com>","YvesBos <yves_bos@outlook.com>","Guy Maliar <guy@tailorbrands.com>","Nicolas Coden <nicolas@ncoden.fr>","Matt Parrish <matt.r.parrish@gmail.com>","Marcel Bretschneider <marcel.bretschneider@gmail.com>","Matthew McEachen <matthew+github@mceachen.org>","Jarda Kotěšovec <jarda.kotesovec@gmail.com>","Kenric D\'Souza <kenric.dsouza@gmail.com>","Oleh Aleinyk <oleg.aleynik@gmail.com>","Marcel Bretschneider <marcel.bretschneider@gmail.com>","Andrea Bianco <andrea.bianco@unibas.ch>","Rik Heywood <rik@rik.org>","Thomas Parisot <hi@oncletom.io>","Nathan Graves <nathanrgraves+github@gmail.com>","Tom Lokhorst <tom@lokhorst.eu>","Espen Hovlandsdal <espen@hovlandsdal.com>","Sylvain Dumont <sylvain.dumont35@gmail.com>","Alun Davies <alun.owain.davies@googlemail.com>","Aidan Hoolachan <ajhoolachan21@gmail.com>","Axel Eirola <axel.eirola@iki.fi>","Freezy <freezy@xbmc.org>","Daiz <taneli.vatanen@gmail.com>","Julian Aubourg <j@ubourg.net>","Keith Belovay <keith@picthrive.com>","Michael B. Klein <mbklein@gmail.com>","Jordan Prudhomme <jordan@raboland.fr>","Ilya Ovdin <iovdin@gmail.com>","Andargor <andargor@yahoo.com>","Paul Neave <paul.neave@gmail.com>","Brendan Kennedy <brenwken@gmail.com>","Brychan Bennett-Odlum <git@brychan.io>","Edward Silverton <e.silverton@gmail.com>","Roman Malieiev <aromaleev@gmail.com>","Tomas Szabo <tomas.szabo@deftomat.com>","Robert O\'Rourke <robert@o-rourke.org>","Guillermo Alfonso Varela Chouciño <guillevch@gmail.com>","Christian Flintrup <chr@gigahost.dk>","Manan Jadhav <manan@motionden.com>","Leon Radley <leon@radley.se>","alza54 <alza54@thiocod.in>","Jacob Smith <jacob@frende.me>","Michael Nutt <michael@nutt.im>","Brad Parham <baparham@gmail.com>","Taneli Vatanen <taneli.vatanen@gmail.com>","Joris Dugué <zaruike10@gmail.com>","Chris Banks <christopher.bradley.banks@gmail.com>","Ompal Singh <ompal.hitm09@gmail.com>","Brodan <christopher.hranj@gmail.com>","Ankur Parihar <ankur.github@gmail.com>","Brahim Ait elhaj <brahima@gmail.com>","Mart Jansink <m.jansink@gmail.com>","Lachlan Newman <lachnewman007@gmail.com>","Dennis Beatty <dennis@dcbeatty.com>","Ingvar Stepanyan <me@rreverser.com>"],"scripts":{"install":"node install/check","clean":"rm -rf src/build/ .nyc_output/ coverage/ test/fixtures/output.*","test":"npm run test-lint && npm run test-unit && npm run test-licensing && npm run test-types","test-lint":"semistandard && cpplint","test-unit":"nyc --reporter=lcov --reporter=text --check-coverage --branches=100 mocha","test-licensing":"license-checker --production --summary --onlyAllow=\\"Apache-2.0;BSD;ISC;LGPL-3.0-or-later;MIT\\"","test-leak":"./test/leak/leak.sh","test-types":"tsd","package-from-local-build":"node npm/from-local-build","package-from-github-release":"node npm/from-github-release","docs-build":"node docs/build && node docs/search-index/build","docs-serve":"cd docs && npx serve","docs-publish":"cd docs && npx firebase-tools deploy --project pixelplumbing --only hosting:pixelplumbing-sharp"},"type":"commonjs","main":"lib/index.js","types":"lib/index.d.ts","files":["install","lib","src/*.{cc,h,gyp}"],"repository":{"type":"git","url":"git://github.com/lovell/sharp.git"},"keywords":["jpeg","png","webp","avif","tiff","gif","svg","jp2","dzi","image","resize","thumbnail","crop","embed","libvips","vips"],"dependencies":{"color":"^4.2.3","detect-libc":"^2.0.3","semver":"^7.6.0"},"optionalDependencies":{"@img/sharp-darwin-arm64":"0.33.4","@img/sharp-darwin-x64":"0.33.4","@img/sharp-libvips-darwin-arm64":"1.0.2","@img/sharp-libvips-darwin-x64":"1.0.2","@img/sharp-libvips-linux-arm":"1.0.2","@img/sharp-libvips-linux-arm64":"1.0.2","@img/sharp-libvips-linux-s390x":"1.0.2","@img/sharp-libvips-linux-x64":"1.0.2","@img/sharp-libvips-linuxmusl-arm64":"1.0.2","@img/sharp-libvips-linuxmusl-x64":"1.0.2","@img/sharp-linux-arm":"0.33.4","@img/sharp-linux-arm64":"0.33.4","@img/sharp-linux-s390x":"0.33.4","@img/sharp-linux-x64":"0.33.4","@img/sharp-linuxmusl-arm64":"0.33.4","@img/sharp-linuxmusl-x64":"0.33.4","@img/sharp-wasm32":"0.33.4","@img/sharp-win32-ia32":"0.33.4","@img/sharp-win32-x64":"0.33.4"},"devDependencies":{"@emnapi/runtime":"^1.1.1","@img/sharp-libvips-dev":"1.0.2","@img/sharp-libvips-dev-wasm32":"1.0.3","@img/sharp-libvips-win32-ia32":"1.0.2","@img/sharp-libvips-win32-x64":"1.0.2","@types/node":"*","async":"^3.2.5","cc":"^3.0.1","emnapi":"^1.1.1","exif-reader":"^2.0.1","extract-zip":"^2.0.1","icc":"^3.0.0","jsdoc-to-markdown":"^8.0.1","license-checker":"^25.0.1","mocha":"^10.4.0","node-addon-api":"^8.0.0","nyc":"^15.1.0","prebuild":"^13.0.1","semistandard":"^17.0.0","tar-fs":"^3.0.6","tsd":"^0.31.0"},"license":"Apache-2.0","engines":{"node":"^18.17.0 || ^20.3.0 || >=21.0.0","libvips":">=8.15.2"},"funding":{"url":"https://opencollective.com/libvips"},"binary":{"napi_versions":[9]},"semistandard":{"env":["mocha"]},"cc":{"linelength":"120","filter":["build/include"]},"nyc":{"include":["lib"]},"tsd":{"directory":"test/types/"}}')}},t={};function i(r){var n=t[r];if(void 0!==n)return n.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,i),o.exports}i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var r={};(()=>{"use strict";var e=r;Object.defineProperty(e,"__esModule",{value:!0}),e.ConverterRegistry=void 0;const t=i(9305),n=i(5584);class o{get converter(){return[new t.PngConverter,new n.JpegConverter]}}e.ConverterRegistry=o,e.default={ConverterRegistry:o}})(),module.exports.ConverterRegistry=r})();